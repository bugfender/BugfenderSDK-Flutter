/*! For license information please see bugfender-v2.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@bugfender/sdk"]=t():e["@bugfender/sdk"]=t()}(self,(()=>(()=>{var e={1301:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterBrowserEventsHandler=void 0;var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.bugfender=t,r.window=n,r}return i(t,e),t.prototype.init=function(){var e=this;if(this.window.document.addEventListener){var t=!this.supportsPassiveEvents()||{passive:!0,capture:!0};this.window.addEventListener("load",(function(){e.addJsEventLogEntry({event:"PageLoaded",performance:e.window.performance})}),t),this.window.addEventListener("DOMContentLoaded",(function(){e.addJsEventLogEntry({event:"DOMContentLoaded"})}),t),this.window.addEventListener("popstate",(function(t){e.addJsEventLogEntry({event:"popstate",location:e.window.location.href,state:JSON.stringify(t.state)})}),t),this.window.addEventListener("hashchange",(function(){e.addJsEventLogEntry({event:"hashchange",hash:e.window.location.hash})}),t);var n=function(t){var n=e;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length>2?e[2]:void 0;return i&&n.addJsEventLogEntry({event:"pushstate",to:String(i),state:e.length>1?JSON.stringify(e[1]):null}),t.apply(this,e)}};this.override(this.window.history,"pushState",n),this.override(this.window.history,"replaceState",n)}},t.prototype.override=function(e,t,n){if(t in e){var r=n(e[t]);e[t]=r}},t}(n(8131).RegisterEventsHandlerBase);t.RegisterBrowserEventsHandler=o},4327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterErrorHandler=void 0;var n=function(){function e(e){this.window=e,this.rejectionsMap=new Map}return e.prototype.init=function(e){var t=this;this.bugfender=e,this.window.addEventListener("error",(function(e){var n=e.message,r=e.lineno,i=e.filename,o=e.error;t.logError(n,i,r,o,"Error")})),this.window.addEventListener("unhandledrejection",(function(e){try{e.reason instanceof Error?t.logError(e.reason.message,void 0,void 0,e.reason,"UnhandledRejection"):t.logError("Unhandled promise rejection",void 0,void 0,e.reason,"UnhandledRejection")}catch(e){}}))},e.prototype.logError=function(e,t,n,r,i){var o;r&&r.stack&&(o=r.stack),"string"==typeof e&&this.bugfender.sendCrash(e,["Error: ".concat(e),"URL: ".concat(null!=t?t:"N/A"),"Line: ".concat(null!=n?n:"N/A"),"Handler: ".concat(null!=i?i:"N/A"),"Stack: ".concat(null!=o?o:"N/A")].join("\n"))},e}();t.RegisterErrorHandler=n},8131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterEventsHandlerBase=void 0;var n=function(){function e(e,t){this.bugfender=e,this.window=t}return e.prototype.addJsEventLogEntry=function(e){var t={tag:"js_event",text:JSON.stringify(e),url:this.getURL()};this.bugfender.sendLog(t)},e.prototype.getURL=function(){var e,t,n;return null!==(n=null===(t=null===(e=this.window)||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)&&void 0!==n?n:""},e.prototype.supportsPassiveEvents=function(){var e=!1;try{var t=function(){},n={get passive(){return e=!0,!1}};this.window.addEventListener("offline",t,n),this.window.removeEventListener("offline",t,!1)}catch(t){e=!1}return e},e}();t.RegisterEventsHandlerBase=n},5569:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterUIEventsHandler=void 0;var s=n(335),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.bugfender=t,r.window=n,r}return i(t,e),t.prototype.init=function(){var e=this;if(this.window.document.addEventListener){var t=!this.supportsPassiveEvents()||{passive:!0,capture:!0};this.window.document.addEventListener("click",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"click"))}),t),this.window.document.addEventListener("focusin",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"focus"))}),t),this.window.document.addEventListener("focusout",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"blur"))}),t),this.window.addEventListener("submit",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"submit"))}),t);var n=new s.DebounceByElement(400),r=["Tab","Meta","MetaLeft","MetaRight","Alt","AltLeft","AltRight","Control","ControlLeft","ControlRight","Shift","ShiftLeft","ShiftRight","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageDown","PageUp","Home","End","CapsLock"];this.window.addEventListener("keyup",(function(t){if((t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&t.composedPath&&!r.includes(t.code)){var i=t.target,o=t.composedPath();n.run(i,(function(){e.sendKeyupLog(i,o)}))}}),t)}},t.prototype.sendKeyupLog=function(e,t){var n,r="password"===(null!==(n=e.getAttribute("type"))&&void 0!==n?n:"").toLowerCase(),i=t.filter((function(e){return e instanceof HTMLElement})).some((function(e){return"bfIgnoreKeypress"in e.dataset})),s=r||i;this.addJsEventLogEntry(o(o({},this.getEventData(e,"keyup")),{text:s?void 0:e.value}))},t.prototype.getEventData=function(e,t){var n=e.childElementCount<=1?e.textContent:void 0,r="FORM"===e.tagName?e:null;return{event:t,url:this.window?this.window.location.href:"",xpath:(0,s.getXPath)(e),tag:e.tagName,id:e.id,text:null!=n?n:void 0,action:r&&r.action?r.action:""}},t}(n(8131).RegisterEventsHandlerBase);t.RegisterUIEventsHandler=a},6067:(e,t)=>{"use strict";var n=/%[sdfj%]/g;function r(e,t){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),u(t)?n.showHidden=t:t&&function(e,t){if(!t||!p(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]]}(n,t),h(n.showHidden)&&(n.showHidden=!1),h(n.depth)&&(n.depth=2),h(n.colors)&&(n.colors=!1),h(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e,t){return e}function s(e,t,n){if(e.customInspect&&t&&y(t.inspect)&&t.inspect!==r&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return l(i)||(i=s(e,i,n)),i}var o=function(e,t){if(h(t))return e.stylize("undefined","undefined");if(l(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):u(t)?e.stylize(""+t,"boolean"):d(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var p=Object.keys(t),b=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(t)),v(t)&&(p.indexOf("message")>=0||p.indexOf("description")>=0))return a(t);if(0===p.length){if(y(t)){var w=t.name?": "+t.name:"";return e.stylize("[Function"+w+"]","special")}if(f(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(g(t))return e.stylize(Date.prototype.toString.call(t),"date");if(v(t))return a(t)}var _,S,E="",O=!1,M=["{","}"];return _=t,Array.isArray(_)&&(O=!0,M=["[","]"]),y(t)&&(E=" [Function"+(t.name?": "+t.name:"")+"]"),f(t)&&(E=" "+RegExp.prototype.toString.call(t)),g(t)&&(E=" "+Date.prototype.toUTCString.call(t)),v(t)&&(E=" "+a(t)),0!==p.length||O&&0!=t.length?n<0?f(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),S=O?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)m(t,String(s))?o.push(c(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(c(e,t,n,r,i,!0))})),o}(e,t,n,b,p):p.map((function(r){return c(e,t,n,b,r,O)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(S,E,M)):M[0]+E+M[1]}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i,o){var a,c,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?c=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(c=e.stylize("[Setter]","special")),m(r,i)||(a="["+i+"]"),c||(e.seen.indexOf(u.value)<0?(c=d(n)?s(e,u.value,null):s(e,u.value,n-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),h(a)){if(o&&i.match(/^\d+$/))return c;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function u(e){return"boolean"==typeof e}function d(e){return null===e}function l(e){return"string"==typeof e}function h(e){return void 0===e}function f(e){return p(e)&&"[object RegExp]"===b(e)}function p(e){return"object"==typeof e&&null!==e}function g(e){return p(e)&&"[object Date]"===b(e)}function v(e){return p(e)&&("[object Error]"===b(e)||e instanceof Error)}function y(e){return"function"==typeof e}function b(e){return Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!l(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(r(arguments[i]));return t.join(" ")}i=1;for(var o=arguments,s=o.length,a=String(e).replace(n,(function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(o[i++]);case"%d":case"%f":return Number(o[i++]);case"%j":try{return JSON.stringify(o[i++])}catch(e){return"[Circular]"}default:return e}})),c=o[i];i<s;c=o[++i])d(c)||!p(c)&&"symbol"!=typeof c?a+=" "+c:a+=" "+r(c);return a},r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}},2504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4542:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1301),t),i(n(4327),t),i(n(8131),t),i(n(5569),t),i(n(2504),t),i(n(6868),t),i(n(3888),t),i(n(4163),t),i(n(3102),t),i(n(4779),t),i(n(1055),t),i(n(7351),t),i(n(335),t)},6868:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_LEVELS=t.LogLevel=void 0,function(e){e[e.Debug=0]="Debug",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Trace=3]="Trace",e[e.Info=4]="Info",e[e.Fatal=5]="Fatal"}(n=t.LogLevel||(t.LogLevel={})),t.LOG_LEVELS=[n.Debug,n.Warning,n.Error,n.Trace,n.Info,n.Fatal]},3888:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e){Object.entries(e).forEach((function(t){var n=t[0];void 0===t[1]&&delete e[n]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.removeUndefinedProperties=t.prepareOptions=void 0,t.prepareOptions=function(e){return r(e=n({},e)),function(e,t){["build","version"].forEach((function(t){var n=e[t];"string"==typeof n&&""===n.trim()&&delete e[t]}))}(e),e},t.removeUndefinedProperties=r,t.validate=function(e,t){var n=new RegExp(/^http(s)?:\/\//i);Object.entries(t).forEach((function(t){var r=t[0],i=t[1],o=e[r];i.forEach((function(e){if("required"===e){if(void 0===o)throw new Error("Bugfender requires '".concat(r,"' option to initialize."))}else if("string"===e){if(!["string","undefined"].includes(typeof o))throw new Error("'".concat(r,"' option must be a string."))}else if("url"===e){if(void 0!==o&&"string"!=typeof o)throw new Error("'".concat(r,"' option must be a valid URL."));if("string"==typeof o&&!n.test(o))throw new Error("'".concat(r,"' option must be a valid URL."))}else if("boolean"===e&&!["boolean","undefined"].includes(typeof o))throw new Error("'".concat(r,"' option must be a boolean."))}))}))}},4163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintToConsole=void 0;var r=n(6067),i=n(6868),o=function(){function e(e){this.console=e,this.printToConsole=!1}return e.prototype.init=function(e){this.printToConsole=e},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).error.apply(e,t)},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).info.apply(e,t)},e.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).log.apply(e,t)},e.prototype.debug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).debug.apply(e,t)},e.prototype.trace=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).trace.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).warn.apply(e,t)},e.prototype.printLog=function(e){if(this.printToConsole){var t=["log","warn","error","trace","info","error"][e.level||i.LogLevel.Debug],n=e.tag?"[".concat(e.tag,"] "):"",o=[e.file||"",e.method||"",e.line||""].filter((function(e){return""!==e})).join(":"),s="".concat(n).concat((0,r.format)(e.text)," ").concat(o);this.console[t](s)}},e}();t.PrintToConsole=o},3102:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.formatLogEntryText=t.format=void 0;var i=n(6067),o=n(4779);function s(e){var t=e.slice(1),n=e[0];try{n=(0,o.mapToString)(n)}catch(e){n=(0,i.format)(n)}return t.length>0?i.format.apply(void 0,r([n],t,!1)):n}t.format=s,t.formatLogEntryText=function(e){return"string"==typeof e?e:function(e){return Array.isArray(e)}(e)?s(e):""}},4779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToString=t.mapToNumber=void 0,t.mapToNumber=function(e){var t=Number(e);if(isNaN(t))throw new Error("Can't be casted to number");return t},t.mapToString=function(e){if(["string","symbol","bigint","function"].includes(typeof e)||e instanceof Error)try{return String(e)}catch(t){return JSON.stringify(e)}else try{return JSON.stringify(e)}catch(t){return String(e)}}},7351:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedbackOptionsValidator=void 0;var r={title:"Feedback",hint:"Please insert your feedback here and click send",subjectPlaceholder:"Subjectâ€¦",feedbackPlaceholder:"Your feedbackâ€¦",submitLabel:"Send",closeLabel:"Close"},i=function(){function e(){}return e.prototype.init=function(e){return n(n({},r),null!=e?e:{})},e}();t.UserFeedbackOptionsValidator=i},1055:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},335:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UnreachableCaseError=t.getElByXPath=t.getXPath=t.DebounceByElement=void 0;var i=function(){function e(e){this.wait=e,this.timers=new Map}return e.prototype.run=function(e,t){var n=this;this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout((function(){t(),n.timers.delete(e)}),this.wait))},e}();t.DebounceByElement=i,t.getXPath=function(e){var t=e;if(t instanceof Element&&t.id)return'//*[@id="'+t.id+'"]';for(var n=[];t&&t instanceof Element;){for(var r=t,i=0,o=!1,s=r.previousSibling;s;)s.nodeType!==Node.DOCUMENT_TYPE_NODE&&s.nodeName===r.nodeName&&i++,s=s.previousSibling;for(s=r.nextSibling;s;){if(s.nodeName===r.nodeName){o=!0;break}s=s.nextSibling}var a=r.prefix?r.prefix+":":"",c=i||o?"[".concat(i+1,"]"):"";n.push(a+r.localName+c),t=r.parentNode}return n.length?"/"+n.reverse().join("/"):""},t.getElByXPath=function(e){var t;return null!==(t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)&&void 0!==t?t:void 0};var o=function(e){function t(t){return e.call(this,"Unreachable case: ".concat(JSON.stringify(t)))||this}return r(t,e),t}(Error);t.UnreachableCaseError=o},9636:function(e,t,n){e=n.nmd(e),function(){var t,n,r,i;for(r=(null!==e?e.exports:void 0)||(window.Base58={}),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},i=0;i<58;)n[t.charAt(i)]=i,i++;r.encode=function(e){var n,r,o;if(0===e.length)return"";for(i=void 0,o=void 0,r=[0],i=0;i<e.length;){for(o=0;o<r.length;)r[o]<<=8,o++;for(r[0]+=e[i],n=0,o=0;o<r.length;)r[o]+=n,n=r[o]/58|0,r[o]%=58,++o;for(;n;)r.push(n%58),n=n/58|0;i++}for(i=0;0===e[i]&&i<e.length-1;)r.push(0),i++;return r.reverse().map((function(e){return t[e]})).join("")},r.decode=function(e){var t,r,o,s;if(0===e.length)return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:Buffer)(0);for(i=void 0,s=void 0,t=[0],i=0;i<e.length;){if(!((r=e[i])in n))throw"Base58.decode received unacceptable input. Character '"+r+"' is not in the Base58 alphabet.";for(s=0;s<t.length;)t[s]*=58,s++;for(t[0]+=n[r],o=0,s=0;s<t.length;)t[s]+=o,o=t[s]>>8,t[s]&=255,++s;for(;o;)t.push(255&o),o>>=8;i++}for(i=0;"1"===e[i]&&i<e.length-1;)t.push(0),i++;return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:Buffer)(t.reverse())}}.call(this)},6880:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var d=a.default.find(s,(function(e){return t.isPlatform(e)}));if(d){var l=this.satisfies(n[d]);if(void 0!==l)return l}}if(o>0){var h=Object.keys(i),f=a.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},1078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_BROADCAST_CHANNELS=t.BroadcastChannel=void 0,t.clearNodeFolder=function(e){e=(0,s.fillOptionsWithDefaults)(e);var t=(0,o.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):i.PROMISE_RESOLVED_FALSE},t.enforceOptions=function(e){r=e};var r,i=n(8115),o=n(9606),s=n(265),a=t.OPEN_BROADCAST_CHANNELS=new Set,c=0,u=t.BroadcastChannel=function(e,t){var n,u;this.id=c++,a.add(this),this.name=e,r&&(t=r),this.options=(0,s.fillOptionsWithDefaults)(t),this.method=(0,o.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,u=(n=this).method.create(n.name,n.options),(0,i.isPromise)(u)?(n._prepP=u,u.then((function(e){n._state=e}))):n._state=u};function d(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:i.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function l(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function h(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&l(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function f(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!l(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}u._pubkey=!0,u.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return d(this,"message",e)},postInternal:function(e){return d(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};f(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,h(this,"message",t)):this._onML=null},addEventListener:function(e,t){h(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){f(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){a.delete(this),this.closed=!0;var t=this._prepP?this._prepP:i.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},6970:(e,t,n)=>{"use strict";var r=n(8027);e.exports={BroadcastChannel:r.BroadcastChannel,createLeaderElection:r.createLeaderElection,clearNodeFolder:r.clearNodeFolder,enforceOptions:r.enforceOptions,beLeader:r.beLeader}},8027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BroadcastChannel",{enumerable:!0,get:function(){return r.BroadcastChannel}}),Object.defineProperty(t,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return r.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(t,"beLeader",{enumerable:!0,get:function(){return o.beLeader}}),Object.defineProperty(t,"clearNodeFolder",{enumerable:!0,get:function(){return r.clearNodeFolder}}),Object.defineProperty(t,"createLeaderElection",{enumerable:!0,get:function(){return i.createLeaderElection}}),Object.defineProperty(t,"enforceOptions",{enumerable:!0,get:function(){return r.enforceOptions}});var r=n(1078),i=n(9672),o=n(3153)},3153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beLeader=function(e){e.isLeader=!0,e._hasLeader=!0;var t=(0,r.add)((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&i(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),i(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),i(e,"tell")},t.sendLeaderMessage=i;var r=n(712);function i(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}},1211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeaderElectionWebLock=void 0;var r=n(8115),i=n(3153);(t.LeaderElectionWebLock=function(e,t){var n=this;this.broadcastChannel=e,e._befC.push((function(){return n.die()})),this._options=t,this.isLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name}).prototype={hasLeader:function(){var e=this;return navigator.locks.query().then((function(t){var n=t.held?t.held.filter((function(t){return t.name===e.lN})):[];return!!(n&&n.length>0)}))},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var t=new Promise((function(t,n){e._wKMC.res=t,e._wKMC.rej=n}));this._wLMP=new Promise((function(n){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},(function(){return e._wKMC.c=void 0,(0,i.beLeader)(e),n(),t})).catch((function(){}))}))}return this._wLMP},set onduplicate(e){},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),(0,i.sendLeaderMessage)(this,"death")}}},9672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n=(0,r.supportsWebLockAPI)()?new o.LeaderElectionWebLock(e,t):new s(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n};var r=n(8115),i=n(3153),o=n(1211),s=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._aplQ=r.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(e){"leader"===e.context&&("death"===e.action&&(n._hasLeader=!1),"tell"===e.action&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};s.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var t=this;return this.isLeader?(0,r.sleep)(0,!0):this.isDead?(0,r.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return r.PROMISE_RESOLVED_TRUE;var n,o=!1,s=new Promise((function(e){n=function(){o=!0,e()}})),a=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t._hasLeader=!0))};t.broadcastChannel.addEventListener("internal",a);var c=e?4*t._options.responseTime:t._options.responseTime;return(0,i.sendLeaderMessage)(t,"apply").then((function(){return Promise.race([(0,r.sleep)(c),s.then((function(){return Promise.reject(new Error)}))])})).then((function(){return(0,i.sendLeaderMessage)(t,"apply")})).then((function(){return Promise.race([(0,r.sleep)(c),s.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",a),!o&&(0,i.beLeader)(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?r.PROMISE_RESOLVED_VOID:new Promise((function(t){var n=!1;function i(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then((function(){e.isLeader&&i()})),function t(){return(0,r.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void i():e.applyOnce(!0).then((function(){e.isLeader?i():t()}))}))}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e._hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&i()})))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)}))),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,(0,i.sendLeaderMessage)(this,"death")}}},9606:(e,t,n)=>{"use strict";n(3738),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseMethod=function(e){var t=[].concat(e.methods,a).filter(Boolean);if(e.type){if("simulate"===e.type)return s.SimulateMethod;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No usable method found in "+JSON.stringify(a.map((function(e){return e.type}))))};var r=n(6399),i=n(2002),o=n(7628),s=n(6002),a=[r.NativeMethod,i.IndexedDBMethod,o.LocalstorageMethod]},2002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSACTION_SETTINGS=t.IndexedDBMethod=void 0,t.averageResponseTime=I,t.canBeUsed=M,t.cleanOldMessages=b,t.close=S,t.commitIndexedDBTransaction=h,t.create=m,t.createDatabase=f,t.getAllMessages=function(e){var t=e.transaction(c,"readonly",u),n=t.objectStore(c),r=[];return new Promise((function(e){n.openCursor().onsuccess=function(n){var i=n.target.result;i?(r.push(i.value),i.continue()):(h(t),e(r))}}))},t.getIdb=l,t.getMessagesHigherThan=g,t.getOldMessages=y,t.microSeconds=void 0,t.onMessage=O,t.postMessage=E,t.removeMessagesById=v,t.type=void 0,t.writeMessage=p;var r=n(8115),i=n(4982),o=n(265),s=t.microSeconds=r.microSeconds,a="pubkey.broadcast-channel-0-",c="messages",u=t.TRANSACTION_SETTINGS={durability:"relaxed"},d=t.type="idb";function l(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function h(e){e.commit&&e.commit()}function f(e){var t=l(),n=a+e,r=t.open(n);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(c,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}function p(e,t,n){var r={uuid:t,time:Date.now(),data:n},i=e.transaction([c],"readwrite",u);return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(c).add(r),h(i)}))}function g(e,t){var n=e.transaction(c,"readonly",u),r=n.objectStore(c),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var s=r.getAll(o);return new Promise((function(e,t){s.onerror=function(e){return t(e)},s.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,s){var a=function(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch(e){return r.openCursor()}}();a.onerror=function(e){return s(e)},a.onsuccess=function(r){var o=r.target.result;o?o.value.id<t+1?o.continue(t+1):(i.push(o.value),o.continue()):(h(n),e(i))}}))}function v(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(c,"readwrite",u).objectStore(c);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}function y(e,t){var n=Date.now()-t,r=e.transaction(c,"readonly",u),i=r.objectStore(c),o=[];return new Promise((function(e){i.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var s=i.value;s.time<n?(o.push(s),i.continue()):(h(r),e(o))}else e(o)}}))}function b(e){return y(e.db,e.options.idb.ttl).then((function(t){return v(e,t.map((function(e){return e.id})))}))}function m(e,t){return t=(0,o.fillOptionsWithDefaults)(t),f(e).then((function(n){var o={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,r.randomToken)(),eMIs:new i.ObliviousSet(2*t.idb.ttl),writeBlockPromise:r.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){o.closed=!0,t.idb.onclose&&t.idb.onclose()},w(o),o}))}function w(e){e.closed||_(e).then((function(){return(0,r.sleep)(e.options.idb.fallbackInterval)})).then((function(){return w(e)}))}function _(e){return e.closed?r.PROMISE_RESOLVED_VOID:e.messagesCallback?g(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),r.PROMISE_RESOLVED_VOID})):r.PROMISE_RESOLVED_VOID}function S(e){e.closed=!0,e.db.close()}function E(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return p(e.db,e.uuid,t)})).then((function(){0===(0,r.randomInt)(0,10)&&b(e)})),e.writeBlockPromise}function O(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,_(e)}function M(){return!!l()}function I(e){return 2*e.idb.fallbackInterval}t.IndexedDBMethod={create:m,close:S,onMessage:O,postMessage:E,canBeUsed:M,type:d,averageResponseTime:I,microSeconds:s}},7628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalstorageMethod=void 0,t.addStorageEventListener=h,t.averageResponseTime=b,t.canBeUsed=y,t.close=g,t.create=p,t.getLocalStorage=u,t.microSeconds=void 0,t.onMessage=v,t.postMessage=l,t.removeStorageEventListener=f,t.storageKey=d,t.type=void 0;var r=n(4982),i=n(265),o=n(8115),s=t.microSeconds=o.microSeconds,a="pubkey.broadcastChannel-",c=t.type="localstorage";function u(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function d(e){return a+e}function l(e,t){return new Promise((function(n){(0,o.sleep)().then((function(){var r=d(e.channelName),i={token:(0,o.randomToken)(),time:Date.now(),data:t,uuid:e.uuid},s=JSON.stringify(i);u().setItem(r,s);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=s,window.dispatchEvent(a),n()}))}))}function h(e,t){var n=d(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function f(e){window.removeEventListener("storage",e)}function p(e,t){if(t=(0,i.fillOptionsWithDefaults)(t),!y())throw new Error("BroadcastChannel: localstorage cannot be used");var n=(0,o.randomToken)(),s=new r.ObliviousSet(t.localstorage.removeTimeout),a={channelName:e,uuid:n,eMIs:s};return a.listener=h(e,(function(e){a.messagesCallback&&e.uuid!==n&&e.token&&!s.has(e.token)&&(e.data.time&&e.data.time<a.messagesCallbackTime||(s.add(e.token),a.messagesCallback(e.data)))})),a}function g(e){f(e.listener)}function v(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function y(){var e=u();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function b(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}t.LocalstorageMethod={create:p,close:g,onMessage:v,postMessage:l,canBeUsed:y,type:c,averageResponseTime:b,microSeconds:s}},6399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeMethod=void 0,t.averageResponseTime=l,t.canBeUsed=d,t.close=a,t.create=s,t.microSeconds=void 0,t.onMessage=u,t.postMessage=c,t.type=void 0;var r=n(8115),i=t.microSeconds=r.microSeconds,o=t.type="native";function s(e){var t={time:(0,r.microSeconds)(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function a(e){e.bc.close(),e.subFns=[]}function c(e,t){try{return e.bc.postMessage(t,!1),r.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function u(e,t){e.messagesCallback=t}function d(){if("undefined"!=typeof globalThis&&globalThis.Deno&&globalThis.Deno.args)return!0;if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}function l(){return 150}t.NativeMethod={create:s,close:a,onMessage:u,postMessage:c,canBeUsed:d,type:o,averageResponseTime:l,microSeconds:i}},6002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulateMethod=t.SIMULATE_DELAY_TIME=void 0,t.averageResponseTime=f,t.canBeUsed=h,t.close=c,t.create=a,t.microSeconds=void 0,t.onMessage=l,t.postMessage=d,t.type=void 0;var r=n(8115),i=t.microSeconds=r.microSeconds,o=t.type="simulate",s=new Set;function a(e){var t={time:i(),name:e,messagesCallback:null};return s.add(t),t}function c(e){s.delete(e)}var u=t.SIMULATE_DELAY_TIME=5;function d(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(s).forEach((function(n){n.name===e.name&&n!==e&&n.messagesCallback&&n.time<t.time&&n.messagesCallback(t)})),n()}),u)}))}function l(e,t){e.messagesCallback=t}function h(){return!0}function f(){return u}t.SimulateMethod={create:a,close:c,onMessage:l,postMessage:d,canBeUsed:h,type:o,averageResponseTime:f,microSeconds:i}},265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}},8115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMISE_RESOLVED_VOID=t.PROMISE_RESOLVED_TRUE=t.PROMISE_RESOLVED_FALSE=void 0,t.isPromise=function(e){return e&&"function"==typeof e.then},t.microSeconds=function(){var e=1e3*Date.now();return e<=n&&(e=n+1),n=e,e},t.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomToken=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},t.supportsWebLockAPI=function(){return"undefined"!=typeof navigator&&void 0!==navigator.locks&&"function"==typeof navigator.locks.request},t.PROMISE_RESOLVED_FALSE=Promise.resolve(!1),t.PROMISE_RESOLVED_TRUE=Promise.resolve(!0),t.PROMISE_RESOLVED_VOID=Promise.resolve();var n=0},2842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o)()(i());s.push([e.id,'*{box-sizing:border-box}.bf-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--bf-z-index, 9999);background:var(--bf-backdrop-bg, rgba(0, 0, 0, 0.5))}.bf-modal{position:fixed;left:50%;top:50%;z-index:calc(var(--bf-z-index, 9999) + 1);width:500px;max-width:calc(100% - 32px);height:400px;max-height:calc(100% - 64px);transform:translate(-50%, -50%);box-shadow:var(--bf-modal-shadow, 0px 4px 12px 0px rgba(0, 0, 0, 0.25));border-radius:var(--bf-border-radius, 4px);background:#fff}.bf-modal *{font-family:var(--bf-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");outline:none;font-weight:normal;color:var(--bf-color, #222)}.bf-modal__title{margin:0 0 16px;width:calc(100% - 24px);font-weight:bold;line-height:1.3;font-family:var(--bf-font-heading, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");font-size:18px}.bf-modal__hint{margin:-8px 0 20px;line-height:1.25}.bf-modal__hint--hidden{display:none}.bf-modal__content{position:absolute;top:0;bottom:0;left:0;right:0;overflow-y:auto;display:flex;flex-direction:column;padding:24px}.bf-modal__close{position:absolute;z-index:1;top:0px;right:0px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:0;background:none;padding:0;font-size:20px;cursor:pointer}.bf-modal__close:active{transform:scale(0.85)}.bf-modal__subject,.bf-modal__feedback{margin-bottom:16px;font-size:16px;padding:8px;border:var(--bf-input-border, 1px solid #ccc);border-radius:var(--bf-border-radius, 4px)}.bf-modal__subject::placeholder,.bf-modal__feedback::placeholder{color:var(--bf-placeholder-color, #757575)}.bf-modal__subject{min-height:32px}.bf-modal__feedback{flex-grow:1;resize:none;min-height:64px}.bf-modal__submit{width:100%;background-color:var(--bf-submit-bg, #ff5060);box-shadow:var(--bf-submit-shadow, 0 2px 0 0 #a93e48);border:0;border-radius:var(--bf-border-radius, 4px);padding:8px 0;color:var(--bf-submit-color, #fff);font-size:18px;cursor:pointer}.bf-modal__submit:active{transform:translateY(2px);box-shadow:none}',""]);const a=s},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var d=[].concat(e[u]);r&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},1601:e=>{"use strict";e.exports=function(e){return e[1]}},4263:function(e,t,n){var r,i,o;!function(s,a){"use strict";i=[n(343)],void 0===(o="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;var i=this.extractLocation(r?r[1]:n),o=r&&n||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:o,fileName:s,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?r.apply(t,i):r)||(e.exports=o)}()},3208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<div class="bf-backdrop" data-bf-backdrop></div> <div class="bf-modal"> <button class="bf-modal__close" data-bf-close>&times;</button> <form class="bf-modal__content" data-bf-form> <h3 class="bf-modal__title" data-bf-title></h3> <p class="bf-modal__hint bf-modal__hint--hidden" data-bf-hint></p> <input class="bf-modal__subject" data-bf-subject type="text" required> <textarea class="bf-modal__feedback" data-bf-feedback required></textarea> <button class="bf-modal__submit" data-bf-submit></button> </form> </div> '},1312:(e,t,n)=>{var r,i=n(5606);!function(){"use strict";var t="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA256_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self,c=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node;c?s=n.g:a&&(s=self);var u=!s.JS_SHA256_NO_COMMON_JS&&e.exports,d=n.amdO,l=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],p=[24,16,8,0],g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=["hex","array","digest","arrayBuffer"],y=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var b=function(e,t){return function(n){return new E(t,!0).update(n)[e]()}},m=function(e){var t=b("hex",e);c&&(t=w(t,e)),t.create=function(){return new E(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<v.length;++n){var r=v[n];t[r]=b(r,e)}return t},w=function(e,r){var i,o=n(4394),a=n(1903).Buffer,c=r?"sha224":"sha256";return i=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(e){return new a(e)},function(n){if("string"==typeof n)return o.createHash(c).update(n,"utf8").digest("hex");if(null==n)throw new Error(t);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===a?o.createHash(c).update(i(n)).digest("hex"):e(n)}},_=function(e,t){return function(n,r){return new O(n,t,!0).update(r)[e]()}},S=function(e){var t=_("hex",e);t.create=function(t){return new O(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<v.length;++n){var r=v[n];t[r]=_(r,e)}return t};function E(e,t){t?(y[0]=y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0,this.blocks=y):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function O(e,n,r){var i,o=typeof e;if("string"===o){var s,a=[],c=e.length,u=0;for(i=0;i<c;++i)(s=e.charCodeAt(i))<128?a[u++]=s:s<2048?(a[u++]=192|s>>>6,a[u++]=128|63&s):s<55296||s>=57344?(a[u++]=224|s>>>12,a[u++]=128|s>>>6&63,a[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),a[u++]=240|s>>>18,a[u++]=128|s>>>12&63,a[u++]=128|s>>>6&63,a[u++]=128|63&s);e=a}else{if("object"!==o)throw new Error(t);if(null===e)throw new Error(t);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new E(n,!0).update(e).array());var d=[],h=[];for(i=0;i<64;++i){var f=e[i]||0;d[i]=92^f,h[i]=54^f}E.call(this,n,r),this.update(h),this.oKeyPad=d,this.inner=!0,this.sharedMemory=r}E.prototype.update=function(e){if(!this.finalized){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var i,o,s=0,a=e.length,c=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),n)for(o=this.start;s<a&&o<64;++s)c[o>>>2]|=e[s]<<p[3&o++];else for(o=this.start;s<a&&o<64;++s)(i=e.charCodeAt(s))<128?c[o>>>2]|=i<<p[3&o++]:i<2048?(c[o>>>2]|=(192|i>>>6)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++s)),c[o>>>2]|=(240|i>>>18)<<p[3&o++],c[o>>>2]|=(128|i>>>12&63)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=f[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var e,t,n,r,i,o,s,a,c,u=this.h0,d=this.h1,l=this.h2,h=this.h3,f=this.h4,p=this.h5,v=this.h6,y=this.h7,b=this.blocks;for(e=16;e<64;++e)t=((i=b[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=b[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,b[e]=b[e-16]+t+b[e-7]+n|0;for(c=d&l,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,y=(i=b[0]-1413257819)-150054599|0,h=i+24177077|0):(o=704751109,y=(i=b[0]-210244248)-1521486534|0,h=i+143694565|0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&d)^u&l^c,y=h+(i=y+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&v)+g[e]+b[e])|0,h=i+(t+r)|0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&u)^h&d^o,v=l+(i=v+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&p)+g[e+1]+b[e+1])|0,t=((l=i+(t+r)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(a=l&h)^l&u^s,p=d+(i=p+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&y^~v&f)+g[e+2]+b[e+2])|0,t=((d=i+(t+r)|0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(c=d&l)^d&h^a,f=u+(i=f+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&v^~p&y)+g[e+3]+b[e+3])|0,u=i+(t+r)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+u|0,this.h1=this.h1+d|0,this.h2=this.h2+l|0,this.h3=this.h3+h|0,this.h4=this.h4+f|0,this.h5=this.h5+p|0,this.h6=this.h6+v|0,this.h7=this.h7+y|0},E.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=h[e>>>28&15]+h[e>>>24&15]+h[e>>>20&15]+h[e>>>16&15]+h[e>>>12&15]+h[e>>>8&15]+h[e>>>4&15]+h[15&e]+h[t>>>28&15]+h[t>>>24&15]+h[t>>>20&15]+h[t>>>16&15]+h[t>>>12&15]+h[t>>>8&15]+h[t>>>4&15]+h[15&t]+h[n>>>28&15]+h[n>>>24&15]+h[n>>>20&15]+h[n>>>16&15]+h[n>>>12&15]+h[n>>>8&15]+h[n>>>4&15]+h[15&n]+h[r>>>28&15]+h[r>>>24&15]+h[r>>>20&15]+h[r>>>16&15]+h[r>>>12&15]+h[r>>>8&15]+h[r>>>4&15]+h[15&r]+h[i>>>28&15]+h[i>>>24&15]+h[i>>>20&15]+h[i>>>16&15]+h[i>>>12&15]+h[i>>>8&15]+h[i>>>4&15]+h[15&i]+h[o>>>28&15]+h[o>>>24&15]+h[o>>>20&15]+h[o>>>16&15]+h[o>>>12&15]+h[o>>>8&15]+h[o>>>4&15]+h[15&o]+h[s>>>28&15]+h[s>>>24&15]+h[s>>>20&15]+h[s>>>16&15]+h[s>>>12&15]+h[s>>>8&15]+h[s>>>4&15]+h[15&s];return this.is224||(c+=h[a>>>28&15]+h[a>>>24&15]+h[a>>>20&15]+h[a>>>16&15]+h[a>>>12&15]+h[a>>>8&15]+h[a>>>4&15]+h[15&a]),c},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||c.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),c},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},O.prototype=new E,O.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),E.prototype.finalize.call(this)}};var M=m();M.sha256=M,M.sha224=m(!0),M.sha256.hmac=S(),M.sha224.hmac=S(!0),u?e.exports=M:(s.sha256=M.sha256,s.sha224=M.sha224,d&&(void 0===(r=function(){return M}.call(M,n,M,e))||(e.exports=r)))}()},4982:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(9647));e.exports=s},9647:(e,t)=>{"use strict";function n(e){const t=r()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(!(r[1]<t))return;e.map.delete(i)}}function r(){return Date.now()}Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.removeTooOldValues=t.ObliviousSet=void 0,t.ObliviousSet=class{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,r()),this._to||(this._to=!0,setTimeout((()=>{this._to=!1,n(this)}),0))}clear(){this.map.clear()}},t.removeTooOldValues=n,t.now=r},5606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],u=!1,d=-1;function l(){u&&a&&(u=!1,a.length?c=a.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(l);u=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a&&a[d].run();d=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},8887:function(e,t,n){var r,i,o;!function(s,a){"use strict";i=[n(343)],r=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),s=0;s<o.length;++s)o[s]=i.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}},void 0===(o=r.apply(t,i))||(e.exports=o)}()},343:function(e,t){var n,r,i;!function(o,s){"use strict";r=[],void 0===(i="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=n.concat(r,i,["args"],["evalOrigin"]);function s(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),c=a[1],u=a[2],d=a[3];return new s({functionName:r,args:i||void 0,fileName:c,lineNumber:u||void 0,columnNumber:d||void 0})};for(var a=0;a<n.length;a++)s.prototype["get"+e(n[a])]=t(n[a]),s.prototype["set"+e(n[a])]=function(e){return function(t){this[e]=Boolean(t)}}(n[a]);for(var c=0;c<r.length;c++)s.prototype["get"+e(r[c])]=t(r[c]),s.prototype["set"+e(r[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[c]);for(var u=0;u<i.length;u++)s.prototype["get"+e(i[u])]=t(i[u]),s.prototype["set"+e(i[u])]=function(e){return function(t){this[e]=String(t)}}(i[u]);return s})?n.apply(t,r):n)||(e.exports=i)}()},2161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiClient=void 0,t.ApiClient=class{constructor(e,t){this.appKey=e,this.http=t}getDeviceStatus(e){const t={app_token:this.appKey,device:e};return this.http.post("/app/device-status",t).then((e=>{const t=void 0!==e.error,n=!t||t&&-1004!==e.error.code;return{isDeviceEnabled:void 0!==e.logger_enabled&&e.logger_enabled,isAppValid:n}}))}sendSession(e){return this.http.post("/session",e)}sendLogs(e,t){return this.http.post("/log/batch",{session_id:e,logs:t})}sendIssue(e,t,n,r,i,o){const s={uid:e,title:n,text:r,app:{key:this.appKey},type:i,session_id:o};return this.http.post("/issue",s).then((()=>({uuid:e,issueURL:t})))}setDeviceKey(e,t,n){return this.http.post("/device/keyvalue",{app_key:this.appKey,device_id:e,key:t,value:n})}}},5498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPrinter=void 0;const r=n(4542);t.EventPrinter=class{constructor(e,t){this.console=e,this.printToConsole=t,this.styles={bold:"font-weight:bold",icon:"color:#ff5060",italic:"font-style:italic",neutral:"color:#999",regular:"color:#222"}}print(e,t,n,i){if(!this.printToConsole)return;const o=`%c${e}%c ${t}`;i=[this.styles.icon,this.styles.regular,...null!=i?i:[]],n?this.console.info(o,...i,(0,r.getElByXPath)(n)):this.console.info(o,...i)}printDeviceKey(e,t){null===t?this.print("â—†",`Device key %c"${e}"%c removed`,void 0,[this.styles.italic,this.styles.bold]):this.print("â—†",`Device key %c"${e}" %cset%c to %c"${t}"`,void 0,[this.styles.italic,this.styles.bold,this.styles.regular,this.styles.italic])}printJsEvent(e){const t=JSON.parse(e.text);switch(t.event){case"DOMContentLoaded":this.print("â—","DOM content %cloaded",void 0,[this.styles.bold]);break;case"PageLoaded":this.print("â—","Page %cloaded",void 0,[this.styles.bold]);break;case"hashchange":this.print("#",`URL %chash changed%c to %c"${t.hash}"`,void 0,[this.styles.bold,this.styles.regular,this.styles.italic]);break;case"blur":case"click":case"focus":case"keyup":{const e="click"===t.event?"âŠ™":"â–­",n=t.text&&"keyup"===t.event?` value=${this.truncate(t.text)}`:"",r={blur:"blurred",click:"clicked",focus:"focused",keyup:"keyup"};this.print(e,`Element %c${r[t.event]}%c${n}%c:`,t.xpath,[this.styles.bold,this.styles.neutral,this.styles.regular]);break}case"submit":this.print("â†‘","Form %csubmited",t.xpath,[this.styles.bold]);break;case"popstate":case"pushstate":this.print("â†¦","Navigation %cstate changed",void 0,[this.styles.bold]);break;default:throw new r.UnreachableCaseError(t)}}truncate(e){return e.length>15?`${e.substring(0,15)}â€¦ [${e.length}]`:e}}},153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverrideConsoleMethods=void 0;const r=n(4542);t.OverrideConsoleMethods=class{constructor(e,t){this.commands=e,this.window=t}init(e){const t=this,n={log:r.LogLevel.Debug,trace:r.LogLevel.Trace,info:r.LogLevel.Info,warn:r.LogLevel.Warning,error:r.LogLevel.Error};this.window.console=function(r){return Object.assign(Object.assign({},r),Object.fromEntries(Object.keys(n).map((i=>[i,function(...o){t.commands.addLogMessage(n[i],o),e||r[i](...o)}]))))}(this.window.console)}}},9148:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=void 0;const s=o(n(6880));t.Browser=class{constructor(e){this.window=e,this.browser=s.getParser(this.window.navigator.userAgent)}getDeviceName(){return`${this.browser.getBrowserName()} ${this.browser.getBrowserVersion()} on ${this.browser.getOSName()} ${this.browser.getOSVersion()}`}getLanguage(){var e,t;return null!==(t=null!==(e=this.window.navigator.language)&&void 0!==e?e:this.window.navigator.userLanguage)&&void 0!==t?t:""}getName(){return this.browser.getBrowserName()}getOSVersion(){return this.browser.getOSVersion()}}},5874:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bugfender=void 0;const i=n(4542),o=n(5069),s=n(25),a=n(6185);class c{constructor(e,t,n){this.preInitProvider=e,this.sdkUserAgent=t,this.version=n,this.LogLevel=i.LogLevel,this.initDeferred=(0,a.createDeferred)(),this.commands=this.preInitProvider.provideCommandsQueue()}init(e){return r(this,void 0,void 0,(function*(){const t=this.preInitProvider.provideOperationModes(),n=this.preInitProvider.provideSDKOptionsValidator();if(this.options=n.init(e),this.provider=new s.MainProvider(this,this.options,this.preInitProvider,this.sdkUserAgent,this.version),this.processor=yield this.provider.getStorageProcessor(),this.options.debug){const e=this.preInitProvider.provideAPIFeatureDetection();this.provider.getLogger(c.name).log("DEBUG",{debug:this.options.debug,operation:{mode:yield t.getMode(),isMultiTab:yield t.isMultiTab(),isMultiThread:yield t.isMultiThread()},features:{broadcastChannel:yield e.isBroadcastChannelSupported(),indexedDB:yield e.isIndexedDBSupported(),localStorage:e.isLocalStorageSupported(),sessionStorage:e.isSessionStorageSupported(),worker:e.isWorkerSupported()}})}const i=yield this.provider.getResetStorage();yield i.resetIfAppChanged(this.options.appID);const o=yield this.provider.getStorageWriterHub();o.init(this.options),this.options.logBrowserEvents&&this.provider.getRegisterBrowserEventsHandler().init(),this.options.logUIEvents&&this.provider.getRegisterUIEventsHandler().init(),this.options.registerErrorHandler&&this.provider.getRegisterErrorHandler().init(this),this.options.overrideConsoleMethods&&this.provider.getOverrideConsoleMethods().init(this.options.printToConsole),this.provider.getPrintToConsole().init(this.options.printToConsole),window.addEventListener("beforeunload",(()=>r(this,void 0,void 0,(function*(){this.processor.run()})))),this.commands.init(o);const a=this.preInitProvider.provideBrowser();this.setDeviceKey("$browser",a.getName()),this.initDeferred.resolve()}))}forceSendOnce(){this.commands.forceSendOnce()}getDeviceURL(){return r(this,void 0,void 0,(function*(){yield this.initDeferred.promise;const e=yield this.provider.getDevice();return`${this.options.baseURL}/intent/${this.options.appID}/device/${e.getUDID()}`}))}getSessionURL(){return r(this,void 0,void 0,(function*(){yield this.initDeferred.promise;const e=yield this.provider.getCurrentSession();return`${this.options.baseURL}/intent/${this.options.appID}/session/${e.getUUID()}`}))}getUserFeedback(e){return r(this,void 0,void 0,(function*(){return this.preInitProvider.provideUserFeedback().show(e)}))}log(...e){this.commands.addLogMessage(i.LogLevel.Debug,[...e])}warn(...e){this.commands.addLogMessage(i.LogLevel.Warning,[...e])}error(...e){this.commands.addLogMessage(i.LogLevel.Error,[...e])}trace(...e){this.commands.addLogMessage(i.LogLevel.Trace,[...e])}info(...e){this.commands.addLogMessage(i.LogLevel.Info,[...e])}fatal(...e){this.commands.addLogMessage(i.LogLevel.Fatal,[...e])}removeDeviceKey(e){this.commands.setDeviceKey(e,null)}sendLog(e){this.commands.addLogEntry(e)}sendIssue(e,t){return r(this,void 0,void 0,(function*(){return this.commands.addIssue(o.IssueType.Issue,e,t)}))}sendCrash(e,t){return r(this,void 0,void 0,(function*(){return this.commands.addIssue(o.IssueType.Crash,e,t)}))}sendUserFeedback(e,t){return r(this,void 0,void 0,(function*(){return this.commands.addIssue(o.IssueType.Feedback,e,t)}))}setDeviceKey(e,t){this.commands.setDeviceKey(e,t)}setForceEnabled(e){this.initDeferred.promise.then((()=>{this.provider.getStorageGuard().setDeviceForceEnabled(e)}))}}t.Bugfender=c},7344:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CallInfoFactory=void 0;const s=o(n(4263)),a=o(n(8887));t.CallInfoFactory=class{create(){try{throw new Error}catch(e){return this.getCallInfo(e)}}getCallInfo(e){try{const t=this.getStackTraceSync(e),n=t[t.length-1];return{file:"/"+n.fileName.substring(n.fileName.lastIndexOf("/")+1),line:n.lineNumber,method:n.functionName}}catch(e){return{file:void 0,line:void 0,method:void 0}}}getStackTraceSync(e){var t;const n="opera#sourceloc"in e?e["opera#sourceloc"]:void 0;return(null!==(t=e.stack)&&void 0!==t?t:n)?s.parse(e):a.backtrace()}}},4903:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MonoChannel=t.Channel=t.createBroadcastChannel=t.MessageType=void 0;const i=n(6970);var o;!function(e){e.ForceSend="force-send",e.Ping="ping",e.Pong="pong"}(o||(t.MessageType=o={})),t.createBroadcastChannel=function(){return new i.BroadcastChannel("bf-sdk")},t.Channel=class{constructor(e,t){this.channel=e,this.logger=t,this.leader=!1,this.onForceSendCb=()=>{},this.sessionsStatus={},this.channel.onmessage=e=>this.handleMessage(e),this.elector=(0,i.createLeaderElection)(this.channel,{fallbackInterval:2e3,responseTime:1e3}),this.leaderPromise=this.elector.awaitLeadership(),this.leaderPromise.then((()=>{this.logger.log("Now I'm the leader. ðŸ’ª"),this.leader=!0}))}setCurrentSession(e){this.session=e}handleMessage(e){var t,n;switch(e.type){case o.ForceSend:this.leader&&this.onForceSendCb();break;case o.Ping:e.toSessionUUID===(null===(t=this.session)||void 0===t?void 0:t.getUUID())&&this.channel.postMessage({type:o.Pong,fromSessionUUID:e.toSessionUUID,toSessionUUID:e.fromSessionUUID});break;case o.Pong:e.toSessionUUID===(null===(n=this.session)||void 0===n?void 0:n.getUUID())&&(this.sessionsStatus[e.fromSessionUUID]=!0)}}isLeader(){return this.leader}notifyForceSend(){this.leader?this.onForceSendCb():this.channel.postMessage({type:o.ForceSend})}onForceSend(e){this.onForceSendCb=e}onHasBecomeLeader(){return this.leaderPromise}isSessionActive(e){return r(this,void 0,void 0,(function*(){const t=!!this.session;return!(t&&(!t||this.session.getUUID()!==e))||new Promise((t=>{this.sessionsStatus[e]=!1,this.channel.postMessage({type:o.Ping,fromSessionUUID:this.session.getUUID(),toSessionUUID:e}),setTimeout((()=>t(this.sessionsStatus[e])),250)}))}))}},t.MonoChannel=class{constructor(){this.onForceSendCb=()=>{},this.leaderPromise=Promise.resolve()}setCurrentSession(e){this.session=e}isLeader(){return!0}isSessionActive(e){return r(this,void 0,void 0,(function*(){const t=!!this.session;return!this.session||t&&this.session.getUUID()===e}))}notifyForceSend(){this.onForceSendCb()}onForceSend(e){this.onForceSendCb=e}onHasBecomeLeader(){return this.leaderPromise}}},8550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandsQueue=void 0;const r=n(4542),i=n(6916),o=n(6185);t.CommandsQueue=class{constructor(e,t,n){this.callInfoFactory=e,this.timer=t,this.uuidFactory=n,this.queue=[],this.storageDeferred=(0,o.createDeferred)()}init(e){this.storageDeferred.resolve(e),this.queue.forEach((e=>{this.handleCommand(e)}))}handleCommand(e){if(this.storageDeferred.isResolved)switch(e.type){case i.CommandType.AddIssue:this.storageDeferred.value.addIssue(e);break;case i.CommandType.AddLogEntry:this.storageDeferred.value.addLogEntry(e);break;case i.CommandType.AddLogMessage:this.storageDeferred.value.addLogMessage(e);break;case i.CommandType.ForceSendOnce:this.storageDeferred.value.forceSendOnce();break;case i.CommandType.SetDeviceKey:this.storageDeferred.value.addDeviceKey(e);break;default:throw new r.UnreachableCaseError(e)}}add(e){this.storageDeferred.isFulfilled?this.handleCommand(e):this.queue.push(e)}addIssue(e,t,n){const r=(0,o.createDeferred)();return this.add({type:i.CommandType.AddIssue,issueType:e,title:t,text:n,uuid:this.uuidFactory.create(),callInfo:this.callInfoFactory.create(),url:r,time:this.timer.getTime()}),r.promise}addLogEntry(e){this.add({type:i.CommandType.AddLogEntry,log:e,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}addLogMessage(e,t){this.add({type:i.CommandType.AddLogMessage,level:e,parameters:t,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}forceSendOnce(){this.add({type:i.CommandType.ForceSendOnce})}setDeviceKey(e,t){this.add({type:i.CommandType.SetDeviceKey,key:e,value:t,callInfo:this.callInfoFactory.create(),time:this.timer.getTime()})}}},6916:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandType=void 0,function(e){e.AddIssue="add-issue",e.AddLogEntry="add-log-entry",e.AddLogMessage="add-log-message",e.ForceSendOnce="force-send-once",e.SetDeviceKey="set-device-key"}(n||(t.CommandType=n={}))},8670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0,t.Connection=class{constructor(e){this.window=e}isOnline(){return this.window.navigator.onLine}}},9240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentSession=void 0;const r=n(8794);t.CurrentSession=class{constructor(e,t,n,r,i){this.device=e,this.logger=t,this.sessionStorage=n,this.sessionsTable=r,this.uuidFactory=i,this.reset()}getUUID(){return this.uuid}initSession(){const e=this.device.getUDID();this.logger.log("Init session"),this.uuid=this.uuidFactory.create(),this.sessionStorage.setItem(r.SessionStorageKey.SessionUUID,this.uuid),this.sessionStorage.setItem(r.SessionStorageKey.SessionUDID,e)}reset(){const e=this.sessionStorage.getItem(r.SessionStorageKey.SessionUUID);null===e?(this.logger.log("Session not available"),this.initSession()):(this.uuid=e,this.sessionStorage.getItem(r.SessionStorageKey.SessionUDID)!==this.device.getUDID()?(this.logger.log("Session Device UDID changed"),this.initSession()):this.logger.log(`Session UUID: ${this.uuid}`)),this.sessionsTable.addIfMissing({uuid:this.uuid,udid:this.device.getUDID()})}}},1308:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;const o=n(959),s=n(6185);var a;!function(e){e[e.New=0]="New",e[e.V1=10]="V1",e[e.V2=20]="V2"}(a||(a={})),t.Database=class{constructor(e){this.db=(0,s.createDeferred)(),this.name=null!=e?e:"bf_sdk",this.init()}init(){return r(this,void 0,void 0,(function*(){const e=yield(0,o.openDB)(this.name,a.V2,{upgrade(e,t,n,o){return r(this,void 0,void 0,(function*(){var n,r,s,c;if(t===a.New&&(e.createObjectStore("devicekeys",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("issues",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("logs",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("sessions",{keyPath:"uuid"})),t===a.V1){const e=o.objectStore("issues");try{for(var u,d=!0,l=i(e);!(n=(u=yield l.next()).done);d=!0){c=u.value,d=!1;const e=c,t=Object.assign({},e.value);t.data.text=t.data.markdown,delete t.data.markdown,e.update(t)}}catch(e){r={error:e}}finally{try{d||n||!(s=l.return)||(yield s.call(l))}finally{if(r)throw r.error}}}}))}});this.db.resolve(e)}))}get(){return this.db.promise}}},7346:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryDeviceKeysTable=t.IDBDeviceKeysTable=void 0,t.IDBDeviceKeysTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e){return this.table.deleteBatch(0,e)}getAll(){return this.table.getAll()}},t.InMemoryDeviceKeysTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e){return n(this,void 0,void 0,(function*(){this.data.splice(0,e)}))}getAll(){return n(this,void 0,void 0,(function*(){return[...this.data]}))}}},9807:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=void 0,t.InMemoryStorage=class{constructor(){this.inMemoryStorage={}}clear(){this.inMemoryStorage={}}getItem(e){return Object.prototype.hasOwnProperty.call(this.inMemoryStorage,e)?this.inMemoryStorage[e]:null}key(e){var t;return null!==(t=Object.keys(this.inMemoryStorage)[e])&&void 0!==t?t:null}removeItem(e){delete this.inMemoryStorage[e]}setItem(e,t){this.inMemoryStorage[e]=String(t)}get length(){return Object.keys(this.inMemoryStorage).length}}},2087:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryIssuesTable=t.IDBIssuesTable=void 0,t.IDBIssuesTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteById(e){return this.table.deleteByIdx(e)}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryIssuesTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteById(e){return n(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.id===e));-1!==t&&this.data.splice(t,1)}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},9928:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryLogsTable=t.IDBLogsTable=void 0,t.IDBLogsTable=class{constructor(e,t){this.table=e,this.logFactory=t}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e,t){return this.table.deleteBatch(0,t,["sessionUUID",e])}deleteOldLogs(e){return n(this,arguments,void 0,(function*(e,t=10){const n=yield this.table.getBatch(e,t);if(n.length<=1)return;const r={sessionUUID:e,data:this.logFactory.createGapLog(n.map((e=>e.data)))};yield Promise.all([this.table.patchByIdx(n[0].id,r),this.table.deleteBatch(1,t-1,["sessionUUID",e])])}))}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryLogsTable=class{constructor(e,t){this.logFactory=e,this.storageLimit=t,this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){if(this.data.length>=this.storageLimit){const e=new Error("InMemory storage quota exceeded");throw e.name="QuotaExceededError",e}const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e,t){return n(this,void 0,void 0,(function*(){const n=[];let r=0;for(let i=0;i<this.data.length;i++){const o=this.data[i];o.sessionUUID===e&&r<t?r++:n.push(o)}this.data=n}))}deleteOldLogs(e){return n(this,void 0,void 0,(function*(){const e=this.data.slice(0,10);e.length<=1||(this.data[0].data=this.logFactory.createGapLog(e.map((e=>e.data))),this.data.splice(1,9))}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},2498:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySessionsTable=t.IDBSessionsTable=void 0,t.IDBSessionsTable=class{constructor(e){this.table=e}addIfMissing(e){return n(this,void 0,void 0,(function*(){if(0===(yield this.table.countBy("uuid",e.uuid)))return this.table.add(e)}))}delete(e){return this.table.deleteByIdx(e)}getAll(){return this.table.getAll()}update(e,t){return this.table.patchByIdx(e,t)}},t.InMemorySessionsTable=class{constructor(){this.data=[]}addIfMissing(e){return n(this,void 0,void 0,(function*(){this.data.some((t=>t.uuid===e.uuid))||this.data.push(e)}))}delete(e){return n(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.uuid===e));-1!==t&&this.data.splice(t,1)}))}getAll(){return n(this,void 0,void 0,(function*(){return[...this.data]}))}update(e,t){return n(this,void 0,void 0,(function*(){const n=this.data.findIndex((t=>t.uuid===e));-1!==n&&(this.data[n]=Object.assign(Object.assign({},this.data[n]),t))}))}}},7677:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0,t.Table=class{constructor(e,t){this.dbPromise=e,this.store=t}add(e){return n(this,void 0,void 0,(function*(){yield(yield this.dbPromise).add(this.store,e)}))}clear(){return n(this,void 0,void 0,(function*(){yield(yield this.dbPromise).clear(this.store)}))}countBy(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readonly");let r,i=0;if(e!==n.store.keyPath){const i=n.store.index(e),o=IDBKeyRange.only(t);r=yield i.openCursor(o)}else r=yield n.store.openCursor(IDBKeyRange.only(t));for(;r;)i++,r=yield r.continue();return i}))}deleteBatch(e,t,r){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readwrite");let i,o=0;if(r)if(r[0]!==n.store.keyPath){const e=n.store.index(r[0]),t=IDBKeyRange.only(r[1]);i=yield e.openCursor(t)}else i=yield n.store.openCursor(IDBKeyRange.only(r[1]));else i=yield n.store.openCursor();for(;i&&(o>=e&&i.delete(),o++,o!==e+t);)i=yield i.continue()}))}deleteByIdx(e){return n(this,void 0,void 0,(function*(){return(yield this.dbPromise).delete(this.store,e)}))}getAll(){return n(this,void 0,void 0,(function*(){return(yield this.dbPromise).getAll(this.store)}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readonly").store.index("sessionUUID"),r=IDBKeyRange.only(e);let i=yield n.openCursor(r);const o=[];let s=0;for(;i&&(o.push(i.value),s++,s!==t);)i=yield i.continue();return o}))}patchByIdx(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readwrite"),r=yield n.store.get(e);yield n.store.put(Object.assign(Object.assign({},r),t))}))}}},6044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0;const r=n(8794);t.Device=class{constructor(e,t,n,r){this.browser=e,this.localStorage=t,this.sdkVersion=n,this.uuidFactory=r}getDeviceData(){let e=this.localStorage.getItem(r.LocalStorageKey.DeviceData);return null===e&&(e="{}"),JSON.parse(e)}getInfo(e){return{udid:this.getUDID(),name:e.deviceName,device_type:"",firebase_test_lab:!1,key_values:this.getDeviceData(),language:this.browser.getLanguage(),os_version:this.browser.getOSVersion(),sdk_type:"web",sdk_version:this.sdkVersion.toString(),build:e.build,version:e.version}}getUDID(){let e=this.localStorage.getItem(r.LocalStorageKey.DeviceUDID);return null===e&&(e=this.uuidFactory.create(),this.localStorage.setItem(r.LocalStorageKey.DeviceUDID,e)),e}setDeviceKey(e,t){const n=this.getDeviceData();null===t?delete n[e]:n[e]=t,this.localStorage.setItem(r.LocalStorageKey.DeviceData,JSON.stringify(n))}}},2418:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.APIFeatureDetection=void 0;const s=n(6185),a=new Map,c=(0,s.CacheDecoratorFactory)(a);class u{constructor(e,t,n,r,i){this.indexedDB=e,this.localStorage=t,this.sessionStorage=n,this.broadcastChannel=r,this.worker=i}isBroadcastChannelSupported(){return o(this,void 0,void 0,(function*(){return"function"==typeof this.broadcastChannel||(yield this.isIndexedDBSupported())||this.isLocalStorageSupported()}))}isIndexedDBSupported(){return new Promise(((e,t)=>{const n=this.indexedDB.open("bf_sdk_test");n.onerror=()=>e(!1),n.onsuccess=()=>{e(!0),n.result.close()}}))}isLocalStorageSupported(){return this.isStorageSupported(this.localStorage)}isSessionStorageSupported(){return this.isStorageSupported(this.sessionStorage)}isWorkerSupported(){return!!this.worker}isStorageSupported(e){try{const t="Bf8taM%GhLkg";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}}t.APIFeatureDetection=u,r([c(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],u.prototype,"isBroadcastChannelSupported",null),r([c(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],u.prototype,"isIndexedDBSupported",null),r([c(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Boolean)],u.prototype,"isLocalStorageSupported",null),r([c(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Boolean)],u.prototype,"isSessionStorageSupported",null),r([c(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Boolean)],u.prototype,"isWorkerSupported",null)},2783:function(e,t){"use strict";var n,r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OperationModes=t.OperationMode=void 0,function(e){e.A="A",e.B="B",e.C="C"}(n||(t.OperationMode=n={})),t.OperationModes=class{constructor(e){this.apiFeatures=e}hasLeaderElection(){return this.apiFeatures.isBroadcastChannelSupported()}hasSharedDB(){return this.apiFeatures.isIndexedDBSupported()}hasSharedDeviceInfo(){return this.apiFeatures.isLocalStorageSupported()}getMode(){return r(this,void 0,void 0,(function*(){const[e,t]=yield Promise.all([this.isMultiTab(),this.isMultiThread()]);return e?t?n.A:n.B:n.C}))}isMultiTab(){return r(this,void 0,void 0,(function*(){return(yield this.hasLeaderElection())&&(yield this.hasSharedDB())&&this.hasSharedDeviceInfo()}))}isMultiThread(){return r(this,void 0,void 0,(function*(){return(yield this.hasSharedDB())&&this.apiFeatures.isWorkerSupported()}))}}},5580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0,t.HttpClient=class{constructor(e,t,n){this.apiURL=e,this.appKey=t,this.sdkUserAgent=n}post(e,t){const n=new XMLHttpRequest;return n.open("POST",this.apiURL+e),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.setRequestHeader("X-User-Agent",this.sdkUserAgent),n.setRequestHeader("X-App-Token",this.appKey),new Promise(((e,r)=>{n.onreadystatechange=()=>{4===n.readyState&&(200!==n.status&&304!==n.status?r():e(JSON.parse(n.responseText)))},n.send(JSON.stringify(t))}))}}},8156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=t.BugfenderClass=t.Bugfender=void 0;const r=n(4542);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return r.LogLevel}});const i=n(5874);Object.defineProperty(t,"BugfenderClass",{enumerable:!0,get:function(){return i.Bugfender}});const o=new(n(1964).PreInitProvider)(window),s=new i.Bugfender(o,"bugfender-web/20240514 (v2.3.0-b2a1f43-embed)",20240514);t.Bugfender=s},9097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogFactory=void 0;const r=n(4542);t.LogFactory=class{createFromDeviceKey(e,t,n,r){return this.createFromEntry({tag:"bf_key_value",text:`Set device data "${e}"="${t}"`},n,r)}createFromEntry(e,t,n){var i,o,s,a,c,u,d,l,h,f;return{x:n.iso,t:null!==(i=e.text)&&void 0!==i?i:"",m:null!==(s=null!==(o=e.method)&&void 0!==o?o:t.method)&&void 0!==s?s:"",at:n.epoch,tg:null!==(a=e.tag)&&void 0!==a?a:"",f:null!==(u=null!==(c=e.file)&&void 0!==c?c:t.file)&&void 0!==u?u:"",l:null!==(l=null!==(d=e.line)&&void 0!==d?d:t.line)&&void 0!==l?l:0,ll:null!==(h=e.level)&&void 0!==h?h:r.LogLevel.Debug,u:null!==(f=e.url)&&void 0!==f?f:""}}createFromIssue(e,t,n){return this.createFromEntry({level:r.LogLevel.Error,tag:"bf_issue",text:e},t,n)}createGapLog(e){const t=JSON.stringify({bf_start_date:e[0].at,bf_end_date:e[e.length-1].at});return{x:e[0].x,t,m:"",at:e[0].at,tg:"bf_gap_log",f:"",l:0,ll:0,u:e[0].u}}}},2614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopLogger=t.ConsoleLogger=void 0;class n{constructor(e,t){this.console=e,this.tag=t}error(e,t){e=`[BF-SDK]${this.tag?`[${this.tag}] `:""}${e}`,t?this.console.log(e,t):this.console.log(e)}getTagged(e){return new n(this.console,e)}log(e,t){e=`[BF-SDK]${this.tag?`[${this.tag}] `:""}${e}`,t?this.console.log(e,t):this.console.log(e)}}t.ConsoleLogger=n;class r{error(){}getTagged(){return new r}log(){}}t.NoopLogger=r},25:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainProvider=void 0;const a=n(4542),c=n(2161),u=n(153),d=n(4903),l=n(8670),h=n(9240),f=n(1308),p=n(7677),g=n(7346),v=n(9807),y=n(2087),b=n(9928),m=n(2498),w=n(6044),_=n(5580),S=n(9097),E=n(2614),O=n(7627),M=n(3523),I=n(7049),L=n(4196),P=n(4869),D=n(967),T=n(3388),B=n(6185),x=s(n(8071)),k=n(5498),C=new Map,A=(0,B.CacheDecoratorFactory)(C);class j{constructor(e,t,n,r,i){this.bugfender=e,this.options=t,this.preInitProvider=n,this.sdkUserAgent=r,this.version=i,this.apiFeatures=this.preInitProvider.provideAPIFeatureDetection(),this.commandsQueue=this.preInitProvider.provideCommandsQueue(),this.console=this.preInitProvider.provideWindow().console,this.operationModes=this.preInitProvider.provideOperationModes(),this.uuidFactory=this.preInitProvider.provideUUIDFactory(),this.window=this.preInitProvider.provideWindow()}getApiClient(){const e=new _.HttpClient(this.options.apiURL,this.options.appKey,this.sdkUserAgent);return new c.ApiClient(this.options.appKey,e)}getChannel(){return o(this,void 0,void 0,(function*(){let e;return e=(yield this.operationModes.isMultiTab())?new d.Channel((0,d.createBroadcastChannel)(),this.getLogger("Channel")):new d.MonoChannel,this.getCurrentSession().then((t=>{e.setCurrentSession(t)})),e}))}getConnection(){return new l.Connection(this.window)}getCurrentSession(){return o(this,void 0,void 0,(function*(){return new h.CurrentSession(this.getDevice(),this.getLogger("CurrentSession"),this.getSessionStorage(),yield this.getSessionsTable(),this.uuidFactory)}))}getDatabase(){return new f.Database}getDevice(){return new w.Device(this.preInitProvider.provideBrowser(),this.getLocalStorage(),this.version,this.uuidFactory)}getInitDeferred(){return(0,B.createDeferred)()}getDeviceKeysTable(){return o(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new g.IDBDeviceKeysTable(new p.Table(this.getDatabase().get(),"devicekeys")):new g.InMemoryDeviceKeysTable}))}getIssuesTable(){return o(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new y.IDBIssuesTable(new p.Table(this.getDatabase().get(),"issues")):new y.InMemoryIssuesTable}))}getLogger(e){return this.options.debug?new E.ConsoleLogger(this.console,e):new E.NoopLogger}getLogsTable(){return o(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new b.IDBLogsTable(new p.Table(this.getDatabase().get(),"logs"),new S.LogFactory):new b.InMemoryLogsTable(new S.LogFactory,3e3)}))}getOverrideConsoleMethods(){return new u.OverrideConsoleMethods(this.commandsQueue,this.window)}getPrintToConsole(){return new a.PrintToConsole(this.console)}getRegisterBrowserEventsHandler(){return new a.RegisterBrowserEventsHandler(this.bugfender,this.window)}getRegisterErrorHandler(){return new a.RegisterErrorHandler(this.window)}getRegisterUIEventsHandler(){return new a.RegisterUIEventsHandler(this.bugfender,this.window)}getResetStorage(){return o(this,void 0,void 0,(function*(){return new O.ResetStorage(this.apiFeatures,yield this.getCurrentSession(),this.getDatabase(),this.getLocalStorage(),this.getSessionStorage())}))}getStorageGuard(){return new I.StorageGuard(this.getApiClient(),this.getDevice(),this.getLogger("StorageGuard"),this.options)}getStorageProcessor(){return o(this,void 0,void 0,(function*(){const e=new M.SessionFactory(this.getDevice(),this.version,this.window);return new L.StorageProcessor(this.getApiClient(),yield this.getChannel(),this.getConnection(),this.getLogger("StorageProcessor"),this.getDevice(),yield this.getDeviceKeysTable(),yield this.getIssuesTable(),yield this.getLogsTable(),this.options,e,yield this.getSessionsTable(),yield this.getStorageGuard())}))}getStorageWriterHub(){return o(this,void 0,void 0,(function*(){let e;return e=(yield this.operationModes.isMultiThread())?new x.default:new D.MainThreadStorageWriterHandler(new P.StorageWriter(yield this.getDeviceKeysTable(),yield this.getIssuesTable(),new S.LogFactory,yield this.getLogsTable())),new T.StorageWriterHub(yield this.getChannel(),this.getDevice(),e,new k.EventPrinter(this.console,this.options.printToConsole),this.options,this.getPrintToConsole(),yield this.getCurrentSession(),yield this.getStorageGuard(),this.uuidFactory,this.window)}))}getLocalStorage(){return this.apiFeatures.isLocalStorageSupported()?this.window.localStorage:new v.InMemoryStorage}getSessionStorage(){return this.apiFeatures.isSessionStorageSupported()?this.window.sessionStorage:new v.InMemoryStorage}getSessionsTable(){return o(this,void 0,void 0,(function*(){return(yield this.operationModes.isMultiTab())?new m.IDBSessionsTable(new p.Table(this.getDatabase().get(),"sessions")):new m.InMemorySessionsTable}))}}t.MainProvider=j,r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],j.prototype,"getApiClient",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getChannel",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",l.Connection)],j.prototype,"getConnection",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getCurrentSession",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",f.Database)],j.prototype,"getDatabase",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],j.prototype,"getDevice",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],j.prototype,"getInitDeferred",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getDeviceKeysTable",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getIssuesTable",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getLogsTable",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",u.OverrideConsoleMethods)],j.prototype,"getOverrideConsoleMethods",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",a.PrintToConsole)],j.prototype,"getPrintToConsole",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",a.RegisterBrowserEventsHandler)],j.prototype,"getRegisterBrowserEventsHandler",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",a.RegisterErrorHandler)],j.prototype,"getRegisterErrorHandler",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",a.RegisterUIEventsHandler)],j.prototype,"getRegisterUIEventsHandler",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getResetStorage",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],j.prototype,"getStorageGuard",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getStorageProcessor",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getStorageWriterHub",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Storage)],j.prototype,"getLocalStorage",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Storage)],j.prototype,"getSessionStorage",null),r([A(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],j.prototype,"getSessionsTable",null)},1964:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreInitProvider=void 0;const o=n(9148),s=n(7344),a=n(8550),c=n(2418),u=n(2783),d=n(696),l=n(2597),h=n(7849),f=n(6185),p=n(2814),g=new Map,v=(0,f.CacheDecoratorFactory)(g);class y{constructor(e){this.window=e}provideAPIFeatureDetection(){return new c.APIFeatureDetection(this.window.indexedDB,this.window.localStorage,this.window.sessionStorage,this.window.BroadcastChannel,this.window.Worker)}provideBrowser(){return new o.Browser(this.window)}provideCommandsQueue(){return new a.CommandsQueue(new s.CallInfoFactory,new l.Timer,this.provideUUIDFactory())}provideOperationModes(){return new u.OperationModes(this.provideAPIFeatureDetection())}provideSDKOptionsValidator(){return new d.SDKOptionsValidator(this.provideBrowser())}provideUserFeedback(){return new h.UserFeedback(this.provideCommandsQueue())}provideUUIDFactory(){return new p.UUIDFactory}provideWindow(){return this.window}}t.PreInitProvider=y,r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",c.APIFeatureDetection)],y.prototype,"provideAPIFeatureDetection",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],y.prototype,"provideBrowser",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",a.CommandsQueue)],y.prototype,"provideCommandsQueue",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",u.OperationModes)],y.prototype,"provideOperationModes",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",d.SDKOptionsValidator)],y.prototype,"provideSDKOptionsValidator",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",h.UserFeedback)],y.prototype,"provideUserFeedback",null),r([v(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],y.prototype,"provideUUIDFactory",null)},7627:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ResetStorage=void 0;const i=n(8794);t.ResetStorage=class{constructor(e,t,n,r,i){this.apiFeatures=e,this.session=t,this.database=n,this.localStorage=r,this.sessionStorage=i}resetIfAppChanged(e){return r(this,void 0,void 0,(function*(){const t=this.localStorage.getItem(i.LocalStorageKey.AppID);if(null!==t&&t!==e){const e=[i.LocalStorageKey.AppID,i.LocalStorageKey.DeviceData,i.LocalStorageKey.DeviceUDID],t=[i.SessionStorageKey.SessionUDID,i.SessionStorageKey.SessionUUID];if(e.forEach((e=>this.localStorage.removeItem(e))),t.forEach((e=>this.sessionStorage.removeItem(e))),this.session.reset(),yield this.apiFeatures.isIndexedDBSupported()){const e=yield this.database.get();yield Promise.all([e.clear("devicekeys"),e.clear("issues"),e.clear("logs"),e.clear("sessions")])}}this.localStorage.setItem(i.LocalStorageKey.AppID,e)}))}}},696:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SDKOptionsValidator=void 0;const i=r(n(9636)),o=n(1312),s=n(4542);t.SDKOptionsValidator=class{constructor(e){this.browser=e,this.rules={appKey:["required","string"],apiURL:["string","url"],build:["string"],baseURL:["string","url"],debug:["boolean"],deviceName:["string"],overrideConsoleMethods:["boolean"],printToConsole:["boolean"],logBrowserEvents:["boolean"],logUIEvents:["boolean"],registerErrorHandler:["boolean"],version:["string"]}}init(e){return e=(0,s.prepareOptions)(e),(0,s.validate)(e,this.rules),Object.assign({appID:i.default.encode(o.sha256.array(e.appKey)).substring(0,10),apiURL:"https://api.bugfender.com",baseURL:"https://dashboard.bugfender.com",debug:!1,deviceName:this.browser.getDeviceName(),overrideConsoleMethods:!0,printToConsole:!0,logBrowserEvents:!0,logUIEvents:!0,registerErrorHandler:!0,version:"0.0.0",build:"0"},e)}}},3523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionFactory=void 0,t.SessionFactory=class{constructor(e,t,n){this.device=e,this.sdkVersion=t,this.window=n}create(e,t){return{device:this.device.getInfo(t),orientation:0,batteryLevel:-1,ram_total:0,ram_free:0,ram_used:0,language:this.window.navigator.language,time:(new Date).toISOString(),sdk_type:"web",sdk_version:this.sdkVersion,session_uid:e,app_version:{app:{key:t.appKey},version:t.version,build:t.build}}}}},7049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageGuard=void 0,t.StorageGuard=class{constructor(e,t,n,r){this.api=e,this.device=t,this.logger=n,this.options=r,this.deviceForceEnabled=!1,this.isAppValid=!0,this.isDeviceEnabled=!1,this.checkIsDeviceEnabled(),this.checkIsDeviceEnabledTimerId=setInterval(this.checkIsDeviceEnabled.bind(this),3e5)}drop(){clearInterval(this.checkIsDeviceEnabledTimerId)}canProcess(){return this.logger.log("canProcess",{isAppValid:this.isAppValid,isDeviceEnabled:this.isDeviceEnabled,deviceForceEnabled:this.deviceForceEnabled}),this.isAppValid&&(this.isDeviceEnabled||this.deviceForceEnabled)}canWrite(){return this.isAppValid}checkIsDeviceEnabled(){const e=this.device.getInfo(this.options);return this.api.getDeviceStatus(e).then((e=>{this.isAppValid=e.isAppValid,this.isDeviceEnabled=e.isDeviceEnabled}),(()=>{}))}setDeviceForceEnabled(e){this.deviceForceEnabled=e}}},8794:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStorageKey=t.LocalStorageKey=void 0,function(e){e.AppID="bf_app_id",e.DeviceData="bf_device_data",e.DeviceUDID="bf_device_udid"}(n||(t.LocalStorageKey=n={})),function(e){e.SessionUDID="bf_session_udid",e.SessionUUID="bf_session_uuid"}(r||(t.SessionStorageKey=r={}))},4196:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageProcessor=void 0,t.StorageProcessor=class{constructor(e,t,n,r,i,o,s,a,c,u,d,l){this.api=e,this.channel=t,this.connection=n,this.logger=r,this.device=i,this.deviceKeysTable=o,this.issuesTable=s,this.logsTable=a,this.options=c,this.sessionFactory=u,this.sessionsTable=d,this.storageGuard=l,this.BATCH_SIZE=500,this.runIntervalMs=15e3,this.forceSend=!1,this.isRunning=!1,setInterval(this.run.bind(this),this.runIntervalMs),this.channel.onHasBecomeLeader().then((()=>{this.run()})),this.channel.onForceSend((()=>{this.forceSend=!0}))}cleanupSessions(e){return n(this,void 0,void 0,(function*(){for(const t of e){const e=yield this.channel.isSessionActive(t.uuid),n=yield this.hasData(t);if(!e&&!n)try{yield this.sessionsTable.delete(t.uuid)}catch(e){}}}))}hasData(e){return n(this,void 0,void 0,(function*(){try{const[t,n,r]=yield Promise.all([this.logsTable.count(e.uuid),this.issuesTable.count(e.uuid),this.deviceKeysTable.count(e.uuid)]);return t>0||n>0||r>0}catch(e){return!0}}))}registerSession(e){return n(this,void 0,void 0,(function*(){if(!e.id){const t=this.sessionFactory.create(e.uuid,this.options),{id:n}=yield this.api.sendSession(t);e.id=n,this.sessionsTable.update(e.uuid,{id:n})}return e}))}canRun(){return this.connection.isOnline()&&this.channel.isLeader()&&!this.isRunning}run(){return n(this,void 0,void 0,(function*(){const e=this.canRun();if(this.logger.log("Processing...",{forceSend:this.forceSend,isRunning:this.isRunning,isLeader:this.channel.isLeader(),isOnline:this.connection.isOnline(),canRun:e}),!e)return void this.logger.log("Aborted.");this.isRunning=!0;const t=this.forceSend,n=yield this.sessionsTable.getAll(),r=[],i=this.storageGuard.canProcess()||this.forceSend;let o=!1;this.logger.log("Should process device: "+(i?"Yes":"No")),this.logger.log(`${n.length} session/s found`),n.sort(((e,t)=>Number(!!t.id)-Number(!!e.id)));for(const e of n){const t=yield this.registerSession(e),n=yield this.sendIssues(t);o=o||n,n||i?(r.push(this.sendLogs(t)),this.logger.log(`Session processed. ID: ${t.id}`,{sessionHasIssues:n})):this.logger.log(`Session skipped. ID: ${t.id}`)}(o||i)&&r.push(this.sendDeviceData()),yield Promise.all(r),yield this.cleanupSessions(n),this.isRunning=!1,t&&(this.forceSend=!1),this.logger.log("Done")}))}sendDeviceData(){return n(this,void 0,void 0,(function*(){try{const e={},t=yield this.deviceKeysTable.getAll();t.forEach((t=>{e[t.data.key]=t.data.value})),t.length&&(yield Promise.all(Object.entries(e).map((([e,t])=>this.api.setDeviceKey(this.device.getUDID(),e,t)))),yield this.deviceKeysTable.deleteBatch(t.length))}catch(e){this.logger.error("sendDeviceData error",e)}}))}sendIssues(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.issuesTable.getBatch(e.uuid,this.BATCH_SIZE);for(const n of t){const t=n.data,r=`${this.options.baseURL}/intent/${this.options.appID}/issue/${t.uuid}`;yield this.api.sendIssue(t.uuid,r,t.title,t.text,t.type,e.id),yield this.issuesTable.deleteById(n.id)}return t.length>0}catch(e){return this.logger.error("sendIssues error",e),!1}}))}sendLogs(e){return n(this,void 0,void 0,(function*(){try{const t=(yield this.logsTable.getBatch(e.uuid,this.BATCH_SIZE)).map((e=>e.data));t.length&&(yield this.api.sendLogs(e.id,t),yield this.logsTable.deleteBatch(e.uuid,t.length))}catch(e){this.logger.error("sendLogs error",e)}}))}}},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainThreadStorageWriterHandler=void 0,t.MainThreadStorageWriterHandler=class{constructor(e){this.storageWriter=e}postMessage(e){this.storageWriter.handleMessage(e)}}},3388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriterHub=void 0;const r=n(4542),i=n(8944),o=n(6916),s=n(5069);t.StorageWriterHub=class{constructor(e,t,n,r,o,s,a,c,u,d){this.channel=e,this.device=t,this.handler=n,this.eventPrinter=r,this.options=o,this.printToConsole=s,this.session=a,this.storageGuard=c,this.uuidFactory=u,this.window=d,this.sanitizer=new i.StorageWriterSanitizer}init(e){const t=this.session.getUUID();this.options=e,this.postMessage({type:"init",data:{options:e,sessionUUID:t}},!1)}postMessage(e,t=!0){if(!t||this.storageGuard.canWrite())try{this.handler.postMessage(this.sanitizer.sanitize(e))}catch(e){}}addDeviceKey(e){if("string"!=typeof e.key)throw new Error("The device-key 'key' must be a string.");this.device.setDeviceKey(e.key,e.value),this.postMessage({type:"device-key",data:{key:e.key,value:e.value,callInfo:e.callInfo,time:e.time}}),this.eventPrinter.printDeviceKey(e.key,e.value)}addLogEntry(e,t=!0){var n;e.log.url=(null!==(n=e.log.url)&&void 0!==n?n:this.window)?this.window.location.href:"";const r=this.mapToLogEntryText(e.log);this.postMessage({type:"log-entry",data:{log:r,callInfo:e.callInfo,time:e.time}}),t&&(this.isJsEventLogEntry(r)?this.eventPrinter.printJsEvent(r):this.printToConsole.printLog(r))}isJsEventLogEntry(e){return"js_event"===e.tag&&"string"==typeof e.text&&"string"==typeof e.url}mapToLogEntryText(e){return e.text&&(e.text=(0,r.formatLogEntryText)(e.text)),e}addLogMessage(e){const t={};switch(t.level=e.level,t.text=(0,r.format)(e.parameters),t.url=this.window?this.window.location.href:void 0,this.addLogEntry({type:o.CommandType.AddLogEntry,log:t,callInfo:e.callInfo,time:e.time},!1),e.level){case r.LogLevel.Debug:this.printToConsole.log(...e.parameters);break;case r.LogLevel.Warning:this.printToConsole.warn(...e.parameters);break;case r.LogLevel.Error:this.printToConsole.error(...e.parameters);break;case r.LogLevel.Trace:this.printToConsole.trace(...e.parameters);break;case r.LogLevel.Info:this.printToConsole.info(...e.parameters);break;case r.LogLevel.Fatal:this.printToConsole.error(...e.parameters)}}addIssue(e){if("string"!=typeof e.title)throw new Error("The crash/issue/feedback 'title' must be a string.");switch(this.postMessage({type:"issue",data:{type:e.issueType,title:e.title,uuid:e.uuid,text:e.text,callInfo:e.callInfo,time:e.time}}),this.forceSendOnce(),e.url.resolve(`${this.options.baseURL}/intent/${this.options.appID}/issue/${e.uuid}`),e.issueType){case s.IssueType.Issue:this.printToConsole.warn(`Issue: ${e.title}.\n${e.text}`);break;case s.IssueType.Crash:this.printToConsole.error(`Crash: ${e.title}.\n${e.text}`);break;case s.IssueType.Feedback:this.printToConsole.info(`User Feedback: ${e.title}.\n${e.text}`)}}forceSendOnce(){this.channel.notifyForceSend()}}},8944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriterSanitizer=void 0;const r=n(4542);t.StorageWriterSanitizer=class{sanitize(e){switch(e.type){case"device-key":{const t=["boolean","number","string"].includes(typeof e.data.value);e.data.key=(0,r.mapToString)(e.data.key),t||(e.data.value=(0,r.mapToString)(e.data.value));break}case"issue":e.data.title=(0,r.mapToString)(e.data.title),e.data.text=(0,r.mapToString)(e.data.text);break;case"log-entry":{const t=["tag","method","file","text","url"],n="line"in e.data.log&&void 0!==e.data.log.line,i=n&&"number"==typeof e.data.log.line,o="level"in e.data.log&&void 0!==e.data.log.level,s=o&&r.LOG_LEVELS.includes(e.data.log.level);if(t.forEach((t=>{if(void 0!==e.data.log[t])try{e.data.log[t]=(0,r.mapToString)(e.data.log[t])}catch(n){delete e.data.log[t]}})),n&&!i)try{e.data.log.line=(0,r.mapToNumber)(e.data.log.line)}catch(t){delete e.data.log.line}if(o&&!s)try{e.data.log.level=(0,r.mapToNumber)(e.data.log.level),r.LOG_LEVELS.includes(e.data.log.level)||delete e.data.log.level}catch(t){delete e.data.log.level}break}}return e}}},4869:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriter=void 0;const i=n(5069),o=n(6185);t.StorageWriter=class{constructor(e,t,n,r,i=32e3,o=256,s=256,a=2e3,c=32e3,u=5242880,d=32e3,l=32e3){this.deviceKeysTable=e,this.issuesTable=t,this.logFactory=n,this.logsTable=r,this.MAX_LOG_TEXT_SIZE_BYTES=i,this.MAX_LOG_METHOD_SIZE_BYTES=o,this.MAX_LOG_FILENAME_SIZE_BYTES=s,this.MAX_LOG_URL_SIZE_BYTES=a,this.MAX_CRASH_TITLE_SIZE_BYTES=c,this.MAX_CRASH_TEXT_SIZE_BYTES=u,this.MAX_ISSUES_TITLE_SIZE_BYTES=d,this.MAX_ISSUES_TEXT_SIZE_BYTES=l,this.isClearingSpace=!1,this.logsQueue=[]}handleMessage(e){return r(this,void 0,void 0,(function*(){switch(e.type){case"device-key":return this.addDeviceKey(e.data.key,e.data.value,e.data.callInfo,e.data.time);case"init":this.options=e.data.options,this.sessionUUID=e.data.sessionUUID;break;case"issue":return this.addIssue(e.data.type,e.data.title,e.data.text,e.data.uuid,e.data.callInfo,e.data.time);case"log-entry":return this.addLogEntry(e.data.log,e.data.callInfo,e.data.time)}}))}addDeviceKey(e,t,n,r){this.deviceKeysTable.add({sessionUUID:this.sessionUUID,data:{key:e,value:t}}),this.addLog(this.logFactory.createFromDeviceKey(e,t,n,r))}addLog(e){return r(this,void 0,void 0,(function*(){const[t,n,r,i]=yield Promise.all([(0,o.truncate)(e.t,this.MAX_LOG_TEXT_SIZE_BYTES),(0,o.truncate)(e.m,this.MAX_LOG_METHOD_SIZE_BYTES),(0,o.truncate)(e.f,this.MAX_LOG_FILENAME_SIZE_BYTES),(0,o.truncate)(e.u,this.MAX_LOG_URL_SIZE_BYTES)]),s={sessionUUID:this.sessionUUID,data:Object.assign(Object.assign({},e),{t,m:n,f:r,u:i})};if(this.isClearingSpace)this.logsQueue.push(s);else try{yield this.logsTable.add(s)}catch(e){this.isQuotaExceededError(e)&&(this.logsQueue.push(s),this.isClearingSpace=!0,yield this.logsTable.deleteOldLogs(this.sessionUUID),yield this.processLogsQueue(),this.isClearingSpace=!1)}}))}addLogEntry(e,t,n){this.addLog(this.logFactory.createFromEntry(e,t,n))}addIssue(e,t,n,s,a,c){return r(this,void 0,void 0,(function*(){const r=e===i.IssueType.Crash;[t,n]=yield Promise.all([(0,o.truncate)(t,r?this.MAX_CRASH_TITLE_SIZE_BYTES:this.MAX_ISSUES_TITLE_SIZE_BYTES),(0,o.truncate)(n,r?this.MAX_CRASH_TEXT_SIZE_BYTES:this.MAX_ISSUES_TEXT_SIZE_BYTES)]),this.issuesTable.add({sessionUUID:this.sessionUUID,data:{title:t,text:n,type:e,uuid:s}}),this.addLog(this.logFactory.createFromIssue(s,a,c))}))}isQuotaExceededError(e){var t;return"QuotaExceededError"===e.name||"QuotaExceededError"===(null===(t=e.inner)||void 0===t?void 0:t.name)}processLogsQueue(){return r(this,void 0,void 0,(function*(){for(;this.logsQueue.length>0;){const e=this.logsQueue[0];try{yield this.logsTable.add(e),this.logsQueue.shift()}catch(e){this.isQuotaExceededError(e)&&(yield this.logsTable.deleteOldLogs(this.sessionUUID))}}}))}}},2597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,t.Timer=class{constructor(e=(()=>new Date)){this.getNow=e,this.lastAbsoluteTime=0}getTime(){const e=this.getNow();let t=e.getTime();return t<=this.lastAbsoluteTime&&(t=this.lastAbsoluteTime+1),this.lastAbsoluteTime=t,{iso:e.toISOString(),epoch:t}}}},5069:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IssueType=void 0,function(e){e.Issue="issue",e.Crash="crash",e.Feedback="user-feedback"}(n||(t.IssueType=n={}))},7849:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedback=void 0;const o=n(4542),s=n(6185),a=n(5069),c=i(n(2842)),u=i(n(3208));class d{constructor(e,t,n){this.options=e,this.onClose=t,this.onSubmit=n,this.wrapperEl=document.createElement("div"),this.shadow=this.wrapperEl.attachShadow({mode:"closed"}),this.shadow.innerHTML=u.default,this.titleEl=this.querySelector("[data-bf-title]"),this.titleEl.innerText=this.options.title,this.hintEl=this.querySelector("[data-bf-hint]"),this.options.hint&&(this.hintEl.innerText=this.options.hint,this.hintEl.classList.remove("bf-modal__hint--hidden")),this.subjectEl=this.querySelector("[data-bf-subject]"),this.subjectEl.setAttribute("placeholder",this.options.subjectPlaceholder),this.feedbackEl=this.querySelector("[data-bf-feedback]"),this.feedbackEl.setAttribute("placeholder",this.options.feedbackPlaceholder),this.submitEl=this.querySelector("[data-bf-submit]"),this.submitEl.innerText=this.options.submitLabel,this.backdropEl=this.querySelector("[data-bf-backdrop]"),this.backdropEl.addEventListener("click",this.onClose),this.closeEl=this.querySelector("[data-bf-close]"),this.closeEl.addEventListener("click",this.onClose),this.formEl=this.querySelector("[data-bf-form]"),this.submitCb=e=>{e.preventDefault(),e.stopPropagation(),this.onSubmit(this.subjectEl.value,this.feedbackEl.value)},this.formEl.addEventListener("submit",this.submitCb);const r=document.querySelector("body");r&&r.appendChild(this.wrapperEl);const i=document.createElement("style");i.textContent=c.default.toString(),this.shadow.append(i)}querySelector(e){const t=this.shadow.querySelector(e);if(t)return t;throw new Error(`Element for selector "${e}" not found.`)}drop(){this.backdropEl.removeEventListener("click",this.onClose),this.closeEl.removeEventListener("click",this.onClose),this.formEl.removeEventListener("submit",this.submitCb),this.backdropEl.remove(),this.closeEl.remove(),this.feedbackEl.remove(),this.formEl.remove(),this.subjectEl.remove(),this.submitEl.remove(),this.titleEl.remove(),this.shadow.innerHTML="",this.wrapperEl.innerHTML="",this.wrapperEl.remove()}}t.UserFeedback=class{constructor(e){this.commands=e,this.optionsValidator=new o.UserFeedbackOptionsValidator}cancel(){this.resolve({isSent:!1}),this.drop()}drop(){var e;null===(e=this.modal)||void 0===e||e.drop(),this.modal=void 0}resolve(e){var t;null===(t=this.deferred)||void 0===t||t.resolve(e),this.deferred=void 0}show(e){return r(this,void 0,void 0,(function*(){return this.deferred||(this.deferred=(0,s.createDeferred)(),this.modal=new d(this.optionsValidator.init(e),(()=>this.cancel()),((e,t)=>this.submit(e,t)))),this.deferred.promise}))}submit(e,t){return r(this,void 0,void 0,(function*(){try{const n=yield this.commands.addIssue(a.IssueType.Feedback,e,t);this.resolve({isSent:!0,feedbackURL:n})}catch(e){this.resolve({isSent:!1})}this.drop()}))}}},6185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.truncate=t.CacheDecoratorFactory=t.createDeferred=void 0,t.createDeferred=function(){const e={isFulfilled:!1,isRejected:!1,isResolved:!1};return e.promise=new Promise(((t,n)=>{e.resolve=n=>{const r=e;r.isFulfilled=!0,r.isRejected=!1,r.isResolved=!0,r.value=n,t(n)},e.reject=t=>{const r=e;r.isFulfilled=!0,r.isRejected=!0,r.isResolved=!1,r.err=t,n(t)}})),e},t.CacheDecoratorFactory=function(e){return function(){return function(t,n,r){const i=r.value;r.value=function(){return e.has(n)||e.set(n,i.apply(this)),e.get(n)}}}},t.truncate=function(e,t){if(3*e.length<=t)return Promise.resolve(e);{const n=new Blob([e]);return n.size<=t?Promise.resolve(e):n.slice(0,t).text()}}},2814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UUIDFactory=void 0,t.UUIDFactory=class{create(){const e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{add:()=>c,getSize:()=>l,removeAll:()=>d,runAll:()=>u});var r=n(5606),i=n(5606),o="[object process]"===Object.prototype.toString.call(void 0!==i?i:0)?function(e){r.on("exit",(function(){return e()})),r.on("beforeExit",(function(){return e().then((function(){return r.exit()}))})),r.on("SIGINT",(function(){return e().then((function(){return r.exit()}))})),r.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),r.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},s=new Set,a=!1;function c(e){if(a||(a=!0,o(u)),"function"!=typeof e)throw new Error("Listener is no function");return s.add(e),{remove:function(){return s.delete(e)},run:function(){return s.delete(e),e()}}}function u(){var e=[];return s.forEach((function(t){e.push(t()),s.delete(t)})),Promise.all(e)}function d(){s.clear()}function l(){return s.size}},8071:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(5512),i=n.n(r);function o(){return i()('/*! For license information please see bugfender-v2.worker.js.LICENSE.txt */\n(()=>{"use strict";var e={301:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterBrowserEventsHandler=void 0;var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.bugfender=t,r.window=n,r}return o(t,e),t.prototype.init=function(){var e=this;if(this.window.document.addEventListener){var t=!this.supportsPassiveEvents()||{passive:!0,capture:!0};this.window.addEventListener("load",(function(){e.addJsEventLogEntry({event:"PageLoaded",performance:e.window.performance})}),t),this.window.addEventListener("DOMContentLoaded",(function(){e.addJsEventLogEntry({event:"DOMContentLoaded"})}),t),this.window.addEventListener("popstate",(function(t){e.addJsEventLogEntry({event:"popstate",location:e.window.location.href,state:JSON.stringify(t.state)})}),t),this.window.addEventListener("hashchange",(function(){e.addJsEventLogEntry({event:"hashchange",hash:e.window.location.hash})}),t);var n=function(t){var n=e;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e.length>2?e[2]:void 0;return o&&n.addJsEventLogEntry({event:"pushstate",to:String(o),state:e.length>1?JSON.stringify(e[1]):null}),t.apply(this,e)}};this.override(this.window.history,"pushState",n),this.override(this.window.history,"replaceState",n)}},t.prototype.override=function(e,t,n){if(t in e){var r=n(e[t]);e[t]=r}},t}(n(131).RegisterEventsHandlerBase);t.RegisterBrowserEventsHandler=i},327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterErrorHandler=void 0;var n=function(){function e(e){this.window=e,this.rejectionsMap=new Map}return e.prototype.init=function(e){var t=this;this.bugfender=e,this.window.addEventListener("error",(function(e){var n=e.message,r=e.lineno,o=e.filename,i=e.error;t.logError(n,o,r,i,"Error")})),this.window.addEventListener("unhandledrejection",(function(e){try{e.reason instanceof Error?t.logError(e.reason.message,void 0,void 0,e.reason,"UnhandledRejection"):t.logError("Unhandled promise rejection",void 0,void 0,e.reason,"UnhandledRejection")}catch(e){}}))},e.prototype.logError=function(e,t,n,r,o){var i;r&&r.stack&&(i=r.stack),"string"==typeof e&&this.bugfender.sendCrash(e,["Error: ".concat(e),"URL: ".concat(null!=t?t:"N/A"),"Line: ".concat(null!=n?n:"N/A"),"Handler: ".concat(null!=o?o:"N/A"),"Stack: ".concat(null!=i?i:"N/A")].join("\\n"))},e}();t.RegisterErrorHandler=n},131:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterEventsHandlerBase=void 0;var n=function(){function e(e,t){this.bugfender=e,this.window=t}return e.prototype.addJsEventLogEntry=function(e){var t={tag:"js_event",text:JSON.stringify(e),url:this.getURL()};this.bugfender.sendLog(t)},e.prototype.getURL=function(){var e,t,n;return null!==(n=null===(t=null===(e=this.window)||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)&&void 0!==n?n:""},e.prototype.supportsPassiveEvents=function(){var e=!1;try{var t=function(){},n={get passive(){return e=!0,!1}};this.window.addEventListener("offline",t,n),this.window.removeEventListener("offline",t,!1)}catch(t){e=!1}return e},e}();t.RegisterEventsHandlerBase=n},569:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterUIEventsHandler=void 0;var s=n(335),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.bugfender=t,r.window=n,r}return o(t,e),t.prototype.init=function(){var e=this;if(this.window.document.addEventListener){var t=!this.supportsPassiveEvents()||{passive:!0,capture:!0};this.window.document.addEventListener("click",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"click"))}),t),this.window.document.addEventListener("focusin",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"focus"))}),t),this.window.document.addEventListener("focusout",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"blur"))}),t),this.window.addEventListener("submit",(function(t){t.target instanceof Element&&e.addJsEventLogEntry(e.getEventData(t.target,"submit"))}),t);var n=new s.DebounceByElement(400),r=["Tab","Meta","MetaLeft","MetaRight","Alt","AltLeft","AltRight","Control","ControlLeft","ControlRight","Shift","ShiftLeft","ShiftRight","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageDown","PageUp","Home","End","CapsLock"];this.window.addEventListener("keyup",(function(t){if((t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&t.composedPath&&!r.includes(t.code)){var o=t.target,i=t.composedPath();n.run(o,(function(){e.sendKeyupLog(o,i)}))}}),t)}},t.prototype.sendKeyupLog=function(e,t){var n,r="password"===(null!==(n=e.getAttribute("type"))&&void 0!==n?n:"").toLowerCase(),o=t.filter((function(e){return e instanceof HTMLElement})).some((function(e){return"bfIgnoreKeypress"in e.dataset})),s=r||o;this.addJsEventLogEntry(i(i({},this.getEventData(e,"keyup")),{text:s?void 0:e.value}))},t.prototype.getEventData=function(e,t){var n=e.childElementCount<=1?e.textContent:void 0,r="FORM"===e.tagName?e:null;return{event:t,url:this.window?this.window.location.href:"",xpath:(0,s.getXPath)(e),tag:e.tagName,id:e.id,text:null!=n?n:void 0,action:r&&r.action?r.action:""}},t}(n(131).RegisterEventsHandlerBase);t.RegisterUIEventsHandler=a},67:(e,t)=>{var n=/%[sdfj%]/g;function r(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),u(t)?n.showHidden=t:t&&function(e,t){if(!t||!p(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]]}(n,t),f(n.showHidden)&&(n.showHidden=!1),f(n.depth)&&(n.depth=2),f(n.colors)&&(n.colors=!1),f(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),s(n,e,n.depth)}function o(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function i(e,t){return e}function s(e,t,n){if(e.customInspect&&t&&g(t.inspect)&&t.inspect!==r&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return d(o)||(o=s(e,o,n)),o}var i=function(e,t){if(f(t))return e.stylize("undefined","undefined");if(d(t)){var n="\'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):u(t)?e.stylize(""+t,"boolean"):l(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var p=Object.keys(t),b=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(t)),y(t)&&(p.indexOf("message")>=0||p.indexOf("description")>=0))return a(t);if(0===p.length){if(g(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(h(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(v(t))return e.stylize(Date.prototype.toString.call(t),"date");if(y(t))return a(t)}var _,w,I="",O=!1,D=["{","}"];return _=t,Array.isArray(_)&&(O=!0,D=["[","]"]),g(t)&&(I=" [Function"+(t.name?": "+t.name:"")+"]"),h(t)&&(I=" "+RegExp.prototype.toString.call(t)),v(t)&&(I=" "+Date.prototype.toUTCString.call(t)),y(t)&&(I=" "+a(t)),0!==p.length||O&&0!=t.length?n<0?h(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),w=O?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)E(t,String(s))?i.push(c(e,t,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\\d+$/)||i.push(c(e,t,n,r,o,!0))})),i}(e,t,n,b,p):p.map((function(r){return c(e,t,n,b,r,O)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\\n"),e+t.replace(/\\u001b\\[\\d\\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\\n ")+" "+e.join(",\\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(w,I,D)):D[0]+I+D[1]}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,o,i){var a,c,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(c=e.stylize("[Setter]","special")),E(r,o)||(a="["+o+"]"),c||(e.seen.indexOf(u.value)<0?(c=l(n)?s(e,u.value,null):s(e,u.value,n-1)).indexOf("\\n")>-1&&(c=i?c.split("\\n").map((function(e){return"  "+e})).join("\\n").slice(2):"\\n"+c.split("\\n").map((function(e){return"   "+e})).join("\\n")):c=e.stylize("[Circular]","special")),f(a)){if(i&&o.match(/^\\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),a=e.stylize(a,"string"))}return a+": "+c}function u(e){return"boolean"==typeof e}function l(e){return null===e}function d(e){return"string"==typeof e}function f(e){return void 0===e}function h(e){return p(e)&&"[object RegExp]"===b(e)}function p(e){return"object"==typeof e&&null!==e}function v(e){return p(e)&&"[object Date]"===b(e)}function y(e){return p(e)&&("[object Error]"===b(e)||e instanceof Error)}function g(e){return"function"==typeof e}function b(e){return Object.prototype.toString.call(e)}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!d(e)){for(var t=[],o=0;o<arguments.length;o++)t.push(r(arguments[o]));return t.join(" ")}o=1;for(var i=arguments,s=i.length,a=String(e).replace(n,(function(e){if("%%"===e)return"%";if(o>=s)return e;switch(e){case"%s":return String(i[o++]);case"%d":case"%f":return Number(i[o++]);case"%j":try{return JSON.stringify(i[o++])}catch(e){return"[Circular]"}default:return e}})),c=i[o];o<s;c=i[++o])l(c)||!p(c)&&"symbol"!=typeof c?a+=" "+c:a+=" "+r(c);return a},r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}},504:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},542:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(301),t),o(n(327),t),o(n(131),t),o(n(569),t),o(n(504),t),o(n(868),t),o(n(888),t),o(n(163),t),o(n(102),t),o(n(779),t),o(n(55),t),o(n(351),t),o(n(335),t)},868:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_LEVELS=t.LogLevel=void 0,function(e){e[e.Debug=0]="Debug",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Trace=3]="Trace",e[e.Info=4]="Info",e[e.Fatal=5]="Fatal"}(n=t.LogLevel||(t.LogLevel={})),t.LOG_LEVELS=[n.Debug,n.Warning,n.Error,n.Trace,n.Info,n.Fatal]},888:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function r(e){Object.entries(e).forEach((function(t){var n=t[0];void 0===t[1]&&delete e[n]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.removeUndefinedProperties=t.prepareOptions=void 0,t.prepareOptions=function(e){return r(e=n({},e)),function(e,t){["build","version"].forEach((function(t){var n=e[t];"string"==typeof n&&""===n.trim()&&delete e[t]}))}(e),e},t.removeUndefinedProperties=r,t.validate=function(e,t){var n=new RegExp(/^http(s)?:\\/\\//i);Object.entries(t).forEach((function(t){var r=t[0],o=t[1],i=e[r];o.forEach((function(e){if("required"===e){if(void 0===i)throw new Error("Bugfender requires \'".concat(r,"\' option to initialize."))}else if("string"===e){if(!["string","undefined"].includes(typeof i))throw new Error("\'".concat(r,"\' option must be a string."))}else if("url"===e){if(void 0!==i&&"string"!=typeof i)throw new Error("\'".concat(r,"\' option must be a valid URL."));if("string"==typeof i&&!n.test(i))throw new Error("\'".concat(r,"\' option must be a valid URL."))}else if("boolean"===e&&!["boolean","undefined"].includes(typeof i))throw new Error("\'".concat(r,"\' option must be a boolean."))}))}))}},163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintToConsole=void 0;var r=n(67),o=n(868),i=function(){function e(e){this.console=e,this.printToConsole=!1}return e.prototype.init=function(e){this.printToConsole=e},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).error.apply(e,t)},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).info.apply(e,t)},e.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).log.apply(e,t)},e.prototype.debug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).debug.apply(e,t)},e.prototype.trace=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).trace.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.printToConsole&&(e=this.console).warn.apply(e,t)},e.prototype.printLog=function(e){if(this.printToConsole){var t=["log","warn","error","trace","info","error"][e.level||o.LogLevel.Debug],n=e.tag?"[".concat(e.tag,"] "):"",i=[e.file||"",e.method||"",e.line||""].filter((function(e){return""!==e})).join(":"),s="".concat(n).concat((0,r.format)(e.text)," ").concat(i);this.console[t](s)}},e}();t.PrintToConsole=i},102:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.formatLogEntryText=t.format=void 0;var o=n(67),i=n(779);function s(e){var t=e.slice(1),n=e[0];try{n=(0,i.mapToString)(n)}catch(e){n=(0,o.format)(n)}return t.length>0?o.format.apply(void 0,r([n],t,!1)):n}t.format=s,t.formatLogEntryText=function(e){return"string"==typeof e?e:function(e){return Array.isArray(e)}(e)?s(e):""}},779:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapToString=t.mapToNumber=void 0,t.mapToNumber=function(e){var t=Number(e);if(isNaN(t))throw new Error("Can\'t be casted to number");return t},t.mapToString=function(e){if(["string","symbol","bigint","function"].includes(typeof e)||e instanceof Error)try{return String(e)}catch(t){return JSON.stringify(e)}else try{return JSON.stringify(e)}catch(t){return String(e)}}},351:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserFeedbackOptionsValidator=void 0;var r={title:"Feedback",hint:"Please insert your feedback here and click send",subjectPlaceholder:"Subjectâ€¦",feedbackPlaceholder:"Your feedbackâ€¦",submitLabel:"Send",closeLabel:"Close"},o=function(){function e(){}return e.prototype.init=function(e){return n(n({},r),null!=e?e:{})},e}();t.UserFeedbackOptionsValidator=o},55:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},335:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UnreachableCaseError=t.getElByXPath=t.getXPath=t.DebounceByElement=void 0;var o=function(){function e(e){this.wait=e,this.timers=new Map}return e.prototype.run=function(e,t){var n=this;this.timers.has(e)&&clearTimeout(this.timers.get(e)),this.timers.set(e,setTimeout((function(){t(),n.timers.delete(e)}),this.wait))},e}();t.DebounceByElement=o,t.getXPath=function(e){var t=e;if(t instanceof Element&&t.id)return\'//*[@id="\'+t.id+\'"]\';for(var n=[];t&&t instanceof Element;){for(var r=t,o=0,i=!1,s=r.previousSibling;s;)s.nodeType!==Node.DOCUMENT_TYPE_NODE&&s.nodeName===r.nodeName&&o++,s=s.previousSibling;for(s=r.nextSibling;s;){if(s.nodeName===r.nodeName){i=!0;break}s=s.nextSibling}var a=r.prefix?r.prefix+":":"",c=o||i?"[".concat(o+1,"]"):"";n.push(a+r.localName+c),t=r.parentNode}return n.length?"/"+n.reverse().join("/"):""},t.getElByXPath=function(e){var t;return null!==(t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)&&void 0!==t?t:void 0};var i=function(e){function t(t){return e.call(this,"Unreachable case: ".concat(JSON.stringify(t)))||this}return r(t,e),t}(Error);t.UnreachableCaseError=i},308:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Database=void 0;const i=n(959),s=n(185);var a;!function(e){e[e.New=0]="New",e[e.V1=10]="V1",e[e.V2=20]="V2"}(a||(a={})),t.Database=class{constructor(e){this.db=(0,s.createDeferred)(),this.name=null!=e?e:"bf_sdk",this.init()}init(){return r(this,void 0,void 0,(function*(){const e=yield(0,i.openDB)(this.name,a.V2,{upgrade(e,t,n,i){return r(this,void 0,void 0,(function*(){var n,r,s,c;if(t===a.New&&(e.createObjectStore("devicekeys",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("issues",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("logs",{keyPath:"id",autoIncrement:!0}).createIndex("sessionUUID","sessionUUID"),e.createObjectStore("sessions",{keyPath:"uuid"})),t===a.V1){const e=i.objectStore("issues");try{for(var u,l=!0,d=o(e);!(n=(u=yield d.next()).done);l=!0){c=u.value,l=!1;const e=c,t=Object.assign({},e.value);t.data.text=t.data.markdown,delete t.data.markdown,e.update(t)}}catch(e){r={error:e}}finally{try{l||n||!(s=d.return)||(yield s.call(d))}finally{if(r)throw r.error}}}}))}});this.db.resolve(e)}))}get(){return this.db.promise}}},346:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryDeviceKeysTable=t.IDBDeviceKeysTable=void 0,t.IDBDeviceKeysTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e){return this.table.deleteBatch(0,e)}getAll(){return this.table.getAll()}},t.InMemoryDeviceKeysTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e){return n(this,void 0,void 0,(function*(){this.data.splice(0,e)}))}getAll(){return n(this,void 0,void 0,(function*(){return[...this.data]}))}}},87:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryIssuesTable=t.IDBIssuesTable=void 0,t.IDBIssuesTable=class{constructor(e){this.table=e}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteById(e){return this.table.deleteByIdx(e)}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryIssuesTable=class{constructor(){this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteById(e){return n(this,void 0,void 0,(function*(){const t=this.data.findIndex((t=>t.id===e));-1!==t&&this.data.splice(t,1)}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},928:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryLogsTable=t.IDBLogsTable=void 0,t.IDBLogsTable=class{constructor(e,t){this.table=e,this.logFactory=t}add(e){return this.table.add(e)}count(e){return this.table.countBy("sessionUUID",e)}deleteBatch(e,t){return this.table.deleteBatch(0,t,["sessionUUID",e])}deleteOldLogs(e){return n(this,arguments,void 0,(function*(e,t=10){const n=yield this.table.getBatch(e,t);if(n.length<=1)return;const r={sessionUUID:e,data:this.logFactory.createGapLog(n.map((e=>e.data)))};yield Promise.all([this.table.patchByIdx(n[0].id,r),this.table.deleteBatch(1,t-1,["sessionUUID",e])])}))}getBatch(e,t){return this.table.getBatch(e,t)}},t.InMemoryLogsTable=class{constructor(e,t){this.logFactory=e,this.storageLimit=t,this.data=[],this.idCounter=0}getNextID(){return this.idCounter++}add(e){return n(this,void 0,void 0,(function*(){if(this.data.length>=this.storageLimit){const e=new Error("InMemory storage quota exceeded");throw e.name="QuotaExceededError",e}const t=this.getNextID();this.data.push(Object.assign(Object.assign({},e),{id:t}))}))}count(e){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).length}))}deleteBatch(e,t){return n(this,void 0,void 0,(function*(){const n=[];let r=0;for(let o=0;o<this.data.length;o++){const i=this.data[o];i.sessionUUID===e&&r<t?r++:n.push(i)}this.data=n}))}deleteOldLogs(e){return n(this,void 0,void 0,(function*(){const e=this.data.slice(0,10);e.length<=1||(this.data[0].data=this.logFactory.createGapLog(e.map((e=>e.data))),this.data.splice(1,9))}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){return this.data.filter((t=>t.sessionUUID===e)).slice(0,t)}))}}},677:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0,t.Table=class{constructor(e,t){this.dbPromise=e,this.store=t}add(e){return n(this,void 0,void 0,(function*(){yield(yield this.dbPromise).add(this.store,e)}))}clear(){return n(this,void 0,void 0,(function*(){yield(yield this.dbPromise).clear(this.store)}))}countBy(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readonly");let r,o=0;if(e!==n.store.keyPath){const o=n.store.index(e),i=IDBKeyRange.only(t);r=yield o.openCursor(i)}else r=yield n.store.openCursor(IDBKeyRange.only(t));for(;r;)o++,r=yield r.continue();return o}))}deleteBatch(e,t,r){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readwrite");let o,i=0;if(r)if(r[0]!==n.store.keyPath){const e=n.store.index(r[0]),t=IDBKeyRange.only(r[1]);o=yield e.openCursor(t)}else o=yield n.store.openCursor(IDBKeyRange.only(r[1]));else o=yield n.store.openCursor();for(;o&&(i>=e&&o.delete(),i++,i!==e+t);)o=yield o.continue()}))}deleteByIdx(e){return n(this,void 0,void 0,(function*(){return(yield this.dbPromise).delete(this.store,e)}))}getAll(){return n(this,void 0,void 0,(function*(){return(yield this.dbPromise).getAll(this.store)}))}getBatch(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readonly").store.index("sessionUUID"),r=IDBKeyRange.only(e);let o=yield n.openCursor(r);const i=[];let s=0;for(;o&&(i.push(o.value),s++,s!==t);)o=yield o.continue();return i}))}patchByIdx(e,t){return n(this,void 0,void 0,(function*(){const n=(yield this.dbPromise).transaction(this.store,"readwrite"),r=yield n.store.get(e);yield n.store.put(Object.assign(Object.assign({},r),t))}))}}},97:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogFactory=void 0;const r=n(542);t.LogFactory=class{createFromDeviceKey(e,t,n,r){return this.createFromEntry({tag:"bf_key_value",text:`Set device data "${e}"="${t}"`},n,r)}createFromEntry(e,t,n){var o,i,s,a,c,u,l,d,f,h;return{x:n.iso,t:null!==(o=e.text)&&void 0!==o?o:"",m:null!==(s=null!==(i=e.method)&&void 0!==i?i:t.method)&&void 0!==s?s:"",at:n.epoch,tg:null!==(a=e.tag)&&void 0!==a?a:"",f:null!==(u=null!==(c=e.file)&&void 0!==c?c:t.file)&&void 0!==u?u:"",l:null!==(d=null!==(l=e.line)&&void 0!==l?l:t.line)&&void 0!==d?d:0,ll:null!==(f=e.level)&&void 0!==f?f:r.LogLevel.Debug,u:null!==(h=e.url)&&void 0!==h?h:""}}createFromIssue(e,t,n){return this.createFromEntry({level:r.LogLevel.Error,tag:"bf_issue",text:e},t,n)}createGapLog(e){const t=JSON.stringify({bf_start_date:e[0].at,bf_end_date:e[e.length-1].at});return{x:e[0].x,t,m:"",at:e[0].at,tg:"bf_gap_log",f:"",l:0,ll:0,u:e[0].u}}}},869:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWriter=void 0;const o=n(69),i=n(185);t.StorageWriter=class{constructor(e,t,n,r,o=32e3,i=256,s=256,a=2e3,c=32e3,u=5242880,l=32e3,d=32e3){this.deviceKeysTable=e,this.issuesTable=t,this.logFactory=n,this.logsTable=r,this.MAX_LOG_TEXT_SIZE_BYTES=o,this.MAX_LOG_METHOD_SIZE_BYTES=i,this.MAX_LOG_FILENAME_SIZE_BYTES=s,this.MAX_LOG_URL_SIZE_BYTES=a,this.MAX_CRASH_TITLE_SIZE_BYTES=c,this.MAX_CRASH_TEXT_SIZE_BYTES=u,this.MAX_ISSUES_TITLE_SIZE_BYTES=l,this.MAX_ISSUES_TEXT_SIZE_BYTES=d,this.isClearingSpace=!1,this.logsQueue=[]}handleMessage(e){return r(this,void 0,void 0,(function*(){switch(e.type){case"device-key":return this.addDeviceKey(e.data.key,e.data.value,e.data.callInfo,e.data.time);case"init":this.options=e.data.options,this.sessionUUID=e.data.sessionUUID;break;case"issue":return this.addIssue(e.data.type,e.data.title,e.data.text,e.data.uuid,e.data.callInfo,e.data.time);case"log-entry":return this.addLogEntry(e.data.log,e.data.callInfo,e.data.time)}}))}addDeviceKey(e,t,n,r){this.deviceKeysTable.add({sessionUUID:this.sessionUUID,data:{key:e,value:t}}),this.addLog(this.logFactory.createFromDeviceKey(e,t,n,r))}addLog(e){return r(this,void 0,void 0,(function*(){const[t,n,r,o]=yield Promise.all([(0,i.truncate)(e.t,this.MAX_LOG_TEXT_SIZE_BYTES),(0,i.truncate)(e.m,this.MAX_LOG_METHOD_SIZE_BYTES),(0,i.truncate)(e.f,this.MAX_LOG_FILENAME_SIZE_BYTES),(0,i.truncate)(e.u,this.MAX_LOG_URL_SIZE_BYTES)]),s={sessionUUID:this.sessionUUID,data:Object.assign(Object.assign({},e),{t,m:n,f:r,u:o})};if(this.isClearingSpace)this.logsQueue.push(s);else try{yield this.logsTable.add(s)}catch(e){this.isQuotaExceededError(e)&&(this.logsQueue.push(s),this.isClearingSpace=!0,yield this.logsTable.deleteOldLogs(this.sessionUUID),yield this.processLogsQueue(),this.isClearingSpace=!1)}}))}addLogEntry(e,t,n){this.addLog(this.logFactory.createFromEntry(e,t,n))}addIssue(e,t,n,s,a,c){return r(this,void 0,void 0,(function*(){const r=e===o.IssueType.Crash;[t,n]=yield Promise.all([(0,i.truncate)(t,r?this.MAX_CRASH_TITLE_SIZE_BYTES:this.MAX_ISSUES_TITLE_SIZE_BYTES),(0,i.truncate)(n,r?this.MAX_CRASH_TEXT_SIZE_BYTES:this.MAX_ISSUES_TEXT_SIZE_BYTES)]),this.issuesTable.add({sessionUUID:this.sessionUUID,data:{title:t,text:n,type:e,uuid:s}}),this.addLog(this.logFactory.createFromIssue(s,a,c))}))}isQuotaExceededError(e){var t;return"QuotaExceededError"===e.name||"QuotaExceededError"===(null===(t=e.inner)||void 0===t?void 0:t.name)}processLogsQueue(){return r(this,void 0,void 0,(function*(){for(;this.logsQueue.length>0;){const e=this.logsQueue[0];try{yield this.logsTable.add(e),this.logsQueue.shift()}catch(e){this.isQuotaExceededError(e)&&(yield this.logsTable.deleteOldLogs(this.sessionUUID))}}}))}}},69:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IssueType=void 0,function(e){e.Issue="issue",e.Crash="crash",e.Feedback="user-feedback"}(n||(t.IssueType=n={}))},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.truncate=t.CacheDecoratorFactory=t.createDeferred=void 0,t.createDeferred=function(){const e={isFulfilled:!1,isRejected:!1,isResolved:!1};return e.promise=new Promise(((t,n)=>{e.resolve=n=>{const r=e;r.isFulfilled=!0,r.isRejected=!1,r.isResolved=!0,r.value=n,t(n)},e.reject=t=>{const r=e;r.isFulfilled=!0,r.isRejected=!0,r.isResolved=!1,r.err=t,n(t)}})),e},t.CacheDecoratorFactory=function(e){return function(){return function(t,n,r){const o=r.value;r.value=function(){return e.has(n)||e.set(n,o.apply(this)),e.get(n)}}}},t.truncate=function(e,t){if(3*e.length<=t)return Promise.resolve(e);{const n=new Blob([e]);return n.size<=t?Promise.resolve(e):n.slice(0,t).text()}}},959:(e,t,n)=>{n.r(t),n.d(t,{deleteDB:()=>g,openDB:()=>y,unwrap:()=>v,wrap:()=>p});const r=(e,t)=>t.some((t=>e instanceof t));let o,i;const s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){d=e(d)}function h(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(v(this),e),p(s.get(this))}:function(...e){return p(t.apply(v(this),e))}:function(e,...n){const r=t.call(v(this),e,...n);return c.set(r,e.sort?e.sort():[e]),p(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));a.set(e,t)}(e),r(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(p(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=h(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const v=e=>l.get(e);function y(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=p(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),p(n).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],m=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(m.get(t))return m.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!b.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),o&&i.done]))[0]};return m.set(t,i),i}f((e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)})));const w=["continue","continuePrimaryKey","advance"],I={},O=new WeakMap,D=new WeakMap,S={get(e,t){if(!w.includes(t))return e[t];let n=I[t];return n||(n=I[t]=function(...e){O.set(this,D.get(this)[t](...e))}),n}};async function*L(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,S);for(D.set(n,t),l.set(n,v(t));t;)yield n,t=await(O.get(n)||t.continue()),O.delete(n)}function T(e,t){return t===Symbol.asyncIterator&&r(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&r(e,[IDBIndex,IDBObjectStore])}f((e=>({...e,get:(t,n,r)=>T(t,n)?L:e.get(t,n,r),has:(t,n)=>T(t,n)||e.has(t,n)})))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(308),t=n(677),r=n(97),o=n(346),i=n(87),s=n(928),a=n(869),c=new e.Database,u=new r.LogFactory,l=new o.IDBDeviceKeysTable(new t.Table(c.get(),"devicekeys")),d=new i.IDBIssuesTable(new t.Table(c.get(),"issues")),f=new s.IDBLogsTable(new t.Table(c.get(),"logs"),u),h=new a.StorageWriter(l,d,u,f);self.addEventListener("message",(e=>{h.handleMessage(e.data)}))})()})();\n',"Worker",void 0,void 0)}},5512:e=>{"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([e])}catch(t){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),o=o.getBlob()}var s=i.URL||i.webkitURL,a=s.createObjectURL(o),c=new i[t](a,n);return s.revokeObjectURL(a),c}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},1903:()=>{},4394:()=>{},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>y,openDB:()=>v,unwrap:()=>g,wrap:()=>p});const r=(e,t)=>t.some((t=>e instanceof t));let i,o;const s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let l={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){l=e(l)}function f(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),p(s.get(this))}:function(...e){return p(t.apply(g(this),e))}:function(e,...n){const r=t.call(g(this),e,...n);return c.set(r,e.sort?e.sort():[e]),p(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,l):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=p(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function y(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),p(n).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=m.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return w.set(t,o),o}h((e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)})));const S=["continue","continuePrimaryKey","advance"],E={},O=new WeakMap,M=new WeakMap,I={get(e,t){if(!S.includes(t))return e[t];let n=E[t];return n||(n=E[t]=function(...e){O.set(this,M.get(this)[t](...e))}),n}};async function*L(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,I);for(M.set(n,t),d.set(n,g(t));t;)yield n,t=await(O.get(n)||t.continue()),O.delete(n)}function P(e,t){return t===Symbol.asyncIterator&&r(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&r(e,[IDBIndex,IDBObjectStore])}h((e=>({...e,get:(t,n,r)=>P(t,n)?L:e.get(t,n,r),has:(t,n)=>P(t,n)||e.has(t,n)})))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};return(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0});const t=n(8156);window.Bugfender=t.Bugfender})(),r})()));
//# sourceMappingURL=bugfender-v2.js.map